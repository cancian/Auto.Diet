////////////////// http://jscompress.com
// FACEBOOK SDK // http://connect.facebook.net/en_US/sdk.js
////////////////// http://connect.facebook.net/en_US/all.js
try{window.FB||function(e){function a(){}var t=e,n=e.document;var r=e.setTimeout,i=e.setInterval,s=e.clearTimeout,o=e.clearInterval;var u=0;var f,l;l=function(e){return e[0]};f=function(e){return e};var c,h;(function(e){var t={},n={},r=["global","require","requireDynamic","requireLazy","module","exports"];c=function(r,i){if(n.hasOwnProperty(r))return n[r];if(!t.hasOwnProperty(r)){if(i)return null;throw new Error("Module "+r+" has not been defined")}var s=t[r],o=s.deps,u=s.factory.length,a,f=[];for(var l=0;l<u;l++){switch(o[l]){case"module":a=s;break;case"exports":a=s.exports;break;case"global":a=e;break;case"require":a=c;break;case"requireDynamic":a=c;break;case"requireLazy":a=null;break;default:a=c.call(null,o[l])}f.push(a)}s.factory.apply(e,f);n[r]=s.exports;return s.exports};h=function(e,i,s,o){if(typeof s=="function"){t[e]={factory:s,deps:r.concat(i),exports:{}};if(o===3)c.call(null,e)}else n[e]=s}})(this);h("ES5ArrayPrototype",[],function(e,t,n,r,i,s){var o={};o.map=function(e,t){if(typeof e!="function")throw new TypeError;var n,r=this.length,i=new Array(r);for(n=0;n<r;++n)if(n in this)i[n]=e.call(t,this[n],n,this);return i};o.forEach=function(e,t){o.map.call(this,e,t)};o.filter=function(e,t){if(typeof e!="function")throw new TypeError;var n,r,i=this.length,s=[];for(n=0;n<i;++n)if(n in this){r=this[n];if(e.call(t,r,n,this))s.push(r)}return s};o.every=function(e,t){if(typeof e!="function")throw new TypeError;var n=new Object(this),r=n.length;for(var i=0;i<r;i++)if(i in n)if(!e.call(t,n[i],i,n))return false;return true};o.some=function(e,t){if(typeof e!="function")throw new TypeError;var n=new Object(this),r=n.length;for(var i=0;i<r;i++)if(i in n)if(e.call(t,n[i],i,n))return true;return false};o.indexOf=function(e,t){var n=this.length;t|=0;if(t<0)t+=n;for(;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i.exports=o},null);h("ES5FunctionPrototype",[],function(e,t,n,r,i,s){var o={};o.bind=function(e){function r(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}if(typeof this!="function")throw new TypeError("Bind must be called on a function");var t=this,n=Array.prototype.slice.call(arguments,1);r.displayName="bound:"+(t.displayName||t.name||"(?)");r.toString=function(){return"bound: "+t};return r};i.exports=o},null);h("ES5StringPrototype",[],function(e,t,n,r,i,s){var o={};o.trim=function(){if(this==null)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")};o.startsWith=function(e){var t=String(this);if(this==null)throw new TypeError("String.prototype.startsWith called on null or undefined");var n=arguments.length>1?Number(arguments[1]):0;if(isNaN(n))n=0;var r=Math.min(Math.max(n,0),t.length);return t.indexOf(String(e),n)==r};o.endsWith=function(e){var t=String(this);if(this==null)throw new TypeError("String.prototype.endsWith called on null or undefined");var n=t.length,r=String(e),i=arguments.length>1?Number(arguments[1]):n;if(isNaN(i))i=0;var s=Math.min(Math.max(i,0),n),o=s-r.length;if(o<0)return false;return t.lastIndexOf(r,o)==o};o.contains=function(e){if(this==null)throw new TypeError("String.prototype.contains called on null or undefined");var t=String(this),n=arguments.length>1?Number(arguments[1]):0;if(isNaN(n))n=0;return t.indexOf(String(e),n)!=-1};o.repeat=function(e){if(this==null)throw new TypeError("String.prototype.repeat called on null or undefined");var t=String(this),n=e?Number(e):0;if(isNaN(n))n=0;if(n<0||n===Infinity)throw RangeError();if(n===1)return t;if(n===0)return"";var r="";while(n){if(n&1)r+=t;if(n>>=1)t+=t}return r};i.exports=o},null);h("ES5Array",[],function(e,t,n,r,i,s){var o={};o.isArray=function(e){return Object.prototype.toString.call(e)=="[object Array]"};i.exports=o},null);h("ie8DontEnum",[],function(e,t,n,r,i,s){var o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"],u={}.hasOwnProperty,a=function(){};if({toString:true}.propertyIsEnumerable("toString"))a=function(e,t){for(var n=0;n<o.length;n++){var r=o[n];if(u.call(e,r))t(r)}};i.exports=a},null);h("ES5Object",["ie8DontEnum"],function(e,t,n,r,i,s,o){function f(){}var u={}.hasOwnProperty,a={};a.create=function(e){var t=typeof e;if(t!="object"&&t!="function")throw new TypeError("Object prototype may only be a Object or null");f.prototype=e;return new f};a.keys=function(e){var t=typeof e;if(t!="object"&&t!="function"||e===null)throw new TypeError("Object.keys called on non-object");var n=[];for(var r in e)if(u.call(e,r))n.push(r);o(e,function(e){return n.push(e)});return n};i.exports=a},null);h("ES5Date",[],function(e,t,n,r,i,s){var o={};o.now=function(){return(new Date).getTime()};i.exports=o},null);h("JSON3",[],function(e,t,n,r,i,s){(function(){var e={}.toString,t,n,r,s=i.exports={},o='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=new Date(-0xc782b5b800cec),x,T,N;try{S=S.getUTCFullYear()==-109252&&S.getUTCMonth()===0&&S.getUTCDate()==1&&S.getUTCHours()==10&&S.getUTCMinutes()==37&&S.getUTCSeconds()==6&&S.getUTCMilliseconds()==708}catch(C){}if(!S){x=Math.floor;T=[0,31,59,90,120,151,181,212,243,273,304,334];N=function(e,t){return T[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)}}if(typeof JSON=="object"&&JSON){s.stringify=JSON.stringify;s.parse=JSON.parse}if(u=typeof s.stringify=="function"&&!N){(S=function(){return 1}).toJSON=S;try{u=s.stringify(0)==="0"&&s.stringify(new Number)==="0"&&s.stringify(new String)=='""'&&s.stringify(e)===r&&s.stringify(r)===r&&s.stringify()===r&&s.stringify(S)==="1"&&s.stringify([S])=="[1]"&&s.stringify([r])=="[null]"&&s.stringify(null)=="null"&&s.stringify([r,e,null])=="[null,null,null]"&&s.stringify({result:[S,true,false,null,"\0\b\n\f\r	"]})==o&&s.stringify(null,S)==="1"&&s.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&s.stringify(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&s.stringify(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&s.stringify(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&s.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(C){u=false}}if(typeof s.parse=="function")try{if(s.parse("0")===0&&!s.parse(false)){S=s.parse(o);if(h=S.A.length==5&&S.A[0]==1){try{h=!s.parse('"	"')}catch(C){}if(h)try{h=s.parse("01")!=1}catch(C){}}}}catch(C){h=false}S=o=null;if(!u||!h){if(!(t={}.hasOwnProperty))t=function(n){var r={},i;if((r.__proto__=null,r.__proto__={toString:1},r).toString!=e){t=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);this.__proto__=t;return n}}else{i=r.constructor;t=function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}}r=null;return t.call(this,n)};n=function(n,r){var i=0,s,o,u,a;(s=function(){this.valueOf=0}).prototype.valueOf=0;o=new s;for(u in o)if(t.call(o,u))i++;s=o=null;if(!i){o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];a=function(n,r){var i=e.call(n)=="[object Function]",s,u;for(s in n)if(!(i&&s=="prototype")&&t.call(n,s))r(s);for(u=o.length;s=o[--u];t.call(n,s)&&r(s));}}else if(i==2){a=function(n,r){var i={},s=e.call(n)=="[object Function]",o;for(o in n)if(!(s&&o=="prototype")&&!t.call(i,o)&&(i[o]=1)&&t.call(n,o))r(o)}}else a=function(n,r){var i=e.call(n)=="[object Function]",s,o;for(s in n)if(!(i&&s=="prototype")&&t.call(n,s)&&!(o=s==="constructor"))r(s);if(o||t.call(n,s="constructor"))r(s)};return a(n,r)};if(!u){a={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};f=function(e,t){return("000000"+(t||0)).slice(-e)};l=function(e){var t='"',n=0,r;for(;r=e.charAt(n);n++)t+='\\"\b\f\n\r	'.indexOf(r)>-1?a[r]:r<" "?"\\u00"+f(2,r.charCodeAt(0).toString(16)):r;return t+'"'};c=function(i,s,o,u,a,h,p){var d=s[i],v,m,g,y,b,w,E,S,T,C,k,L,A,O,M;if(typeof d=="object"&&d){v=e.call(d);if(v=="[object Date]"&&!t.call(d,"toJSON")){if(d>-1/0&&d<1/0){if(N){y=x(d/864e5);for(m=x(y/365.2425)+1970-1;N(m+1,0)<=y;m++);for(g=x((y-N(m,0))/30.42);N(m,g+1)<=y;g++);y=1+y-N(m,g);b=(d%864e5+864e5)%864e5;w=x(b/36e5)%24;E=x(b/6e4)%60;S=x(b/1e3)%60;T=b%1e3}else{m=d.getUTCFullYear();g=d.getUTCMonth();y=d.getUTCDate();w=d.getUTCHours();E=d.getUTCMinutes();S=d.getUTCSeconds();T=d.getUTCMilliseconds()}d=(m<=0||m>=1e4?(m<0?"-":"+")+f(6,m<0?-m:m):f(4,m))+"-"+f(2,g+1)+"-"+f(2,y)+"T"+f(2,w)+":"+f(2,E)+":"+f(2,S)+"."+f(3,T)+"Z"}else d=null}else if(typeof d.toJSON=="function"&&(v!="[object Number]"&&v!="[object String]"&&v!="[object Array]"||t.call(d,"toJSON")))d=d.toJSON(i)}if(o)d=o.call(s,i,d);if(d===null)return"null";v=e.call(d);if(v=="[object Boolean]"){return""+d}else if(v=="[object Number]"){return d>-1/0&&d<1/0?""+d:"null"}else if(v=="[object String]")return l(d);if(typeof d=="object"){for(A=p.length;A--;)if(p[A]===d)throw TypeError();p.push(d);C=[];O=h;h+=a;if(v=="[object Array]"){for(L=0,A=d.length;L<A;M||(M=true),L++){k=c(L,d,o,u,a,h,p);C.push(k===r?"null":k)}return M?a?"[\n"+h+C.join(",\n"+h)+"\n"+O+"]":"["+C.join(",")+"]":"[]"}else{n(u||d,function(e){var t=c(e,d,o,u,a,h,p);if(t!==r)C.push(l(e)+":"+(a?" ":"")+t);M||(M=true)});return M?a?"{\n"+h+C.join(",\n"+h)+"\n"+O+"}":"{"+C.join(",")+"}":"{}"}p.pop()}};s.stringify=function(t,n,r){var i,s,o,u,a,f;if(typeof n=="function"||typeof n=="object"&&n)if(e.call(n)=="[object Function]"){s=n}else if(e.call(n)=="[object Array]"){o={};for(u=0,a=n.length;u<a;f=n[u++],(e.call(f)=="[object String]"||e.call(f)=="[object Number]")&&(o[f]=1));}if(r)if(e.call(r)=="[object Number]"){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else if(e.call(r)=="[object String]")i=r.length<=10?r:r.slice(0,10);return c("",(f={},f[""]=t,f),s,o,i,"",[])}}if(!h){p=String.fromCharCode;d={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"};v=function(){w=E=null;throw SyntaxError()};m=function(){var e=E,t=e.length,n,r,i,s,o;while(w<t){n=e.charAt(w);if("	\r\n ".indexOf(n)>-1){w++}else if("{}[]:,".indexOf(n)>-1){w++;return n}else if(n=='"'){for(r="@",w++;w<t;){n=e.charAt(w);if(n<" "){v()}else if(n=="\\"){n=e.charAt(++w);if('\\"/btnfr'.indexOf(n)>-1){r+=d[n];w++}else if(n=="u"){i=++w;for(s=w+4;w<s;w++){n=e.charAt(w);if(!(n>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F"))v()}r+=p("0x"+e.slice(i,w))}else v()}else{if(n=='"')break;r+=n;w++}}if(e.charAt(w)=='"'){w++;return r}v()}else{i=w;if(n=="-"){o=true;n=e.charAt(++w)}if(n>="0"&&n<="9"){if(n=="0"&&(n=e.charAt(w+1),n>="0"&&n<="9"))v();o=false;for(;w<t&&(n=e.charAt(w),n>="0"&&n<="9");w++);if(e.charAt(w)=="."){s=++w;for(;s<t&&(n=e.charAt(s),n>="0"&&n<="9");s++);if(s==w)v();w=s}n=e.charAt(w);if(n=="e"||n=="E"){n=e.charAt(++w);if(n=="+"||n=="-")w++;for(s=w;s<t&&(n=e.charAt(s),n>="0"&&n<="9");s++);if(s==w)v();w=s}return+e.slice(i,w)}if(o)v();if(e.slice(w,w+4)=="true"){w+=4;return true}else if(e.slice(w,w+5)=="false"){w+=5;return false}else if(e.slice(w,w+4)=="null"){w+=4;return null}v()}}return"$"};g=function(e){var t,n,r;if(e=="$")v();if(typeof e=="string"){if(e.charAt(0)=="@")return e.slice(1);if(e=="["){t=[];for(;;n||(n=true)){e=m();if(e=="]")break;if(n)if(e==","){e=m();if(e=="]")v()}else v();if(e==",")v();t.push(g(e))}return t}else if(e=="{"){t={};for(;;n||(n=true)){e=m();if(e=="}")break;if(n)if(e==","){e=m();if(e=="}")v()}else v();if(e==","||typeof e!="string"||e.charAt(0)!="@"||m()!=":")v();t[e.slice(1)]=g(m())}return t}v()}return e};b=function(e,t,n){var i=y(e,t,n);if(i===r){delete e[t]}else e[t]=i};y=function(t,r,i){var s=t[r],o;if(typeof s=="object"&&s)if(e.call(s)=="[object Array]"){for(o=s.length;o--;)b(s,o,i)}else n(s,function(e){b(s,e,i)});return i.call(t,r,s)};s.parse=function(t,n){w=0;E=t;var r=g(m());if(m()!="$")v();w=E=null;return n&&e.call(n)=="[object Function]"?y((S={},S[""]=r,S),"",n):r}}}}).call(this)},null);h("ES6Object",["ie8DontEnum"],function(e,t,n,r,i,s,o){var u={}.hasOwnProperty,a={assign:function(e){var t=Array.prototype.slice.call(arguments,1);if(e==null)throw new TypeError("Object.assign target cannot be null or undefined");e=Object(e);for(var n=0;n<t.length;n++){var r=t[n];if(r==null)continue;r=Object(r);for(var i in r)if(u.call(r,i))e[i]=r[i];o(r,function(t){return e[t]=r[t]})}return e}};i.exports=a},null);h("ES6ArrayPrototype",[],function(e,t,n,r,i,s){var o={find:function(e,t){if(this==null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof e!=="function")throw new TypeError("predicate must be a function");var n=o.findIndex.call(this,e,t);return n===-1?void 0:this[n]},findIndex:function(e,t){if(this==null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof e!=="function")throw new TypeError("predicate must be a function");var n=Object(this),r=n.length>>>0;for(var i=0;i<r;i++)if(i in n)if(e.call(t,n[i],i,n))return i;return-1}};i.exports=o},null);h("ES6DatePrototype",[],function(e,t,n,r,i,s){function o(e){return(e<10?"0":"")+e}var u={toISOString:function(){if(!isFinite(this))throw new Error("Invalid time value");var e=this.getUTCFullYear();e=(e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(0<=e&&e<=9999?-4:-6);return e+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}};i.exports=u},null);h("ES6Number",[],function(e,t,n,r,i,s){var o={isFinite:function(e){return typeof e=="number"&&isFinite(e)},isNaN:function(e){return typeof e=="number"&&isNaN(e)}};i.exports=o},null);h("ES",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3","ES6Object","ES6ArrayPrototype","ES6DatePrototype","ES6Number"],function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){function S(t){for(var n in t){if(!t.hasOwnProperty(n))continue;var r=t[n],i=n.split("."),s=i.length==2?e[i[0]][i[1]]:e[n];for(var o in r){if(!r.hasOwnProperty(o))continue;var u=s[o];b[n+"."+o]=u&&/\{\s+\[native code\]\s\}/.test(u)?u:r[o]}}}function x(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n?y.call(e).slice(8,-1)+".prototype":e,s=b[i+"."+t]||e[t];if(typeof s==="function")return s.apply(e,r)}var y={}.toString,b={"JSON.stringify":p.stringify,"JSON.parse":p.parse},w={"Array.prototype":u,"Function.prototype":a,"String.prototype":f,Object:c,Array:l,Date:h},E={Object:d,"Array.prototype":v,"Date.prototype":m,Number:g};S(w);S(E);s.exports=x},null);var p=c("ES");h("JSSDKRuntimeConfig",[],{locale:"en_US",rtl:false,revision:"1452760"});h("JSSDKConfig",[],{bustCache:true,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:true,features:{allow_non_canvas_app_events:false,event_subscriptions_log:{rate:.01,value:1e4},kill_fragment:true,xfbml_profile_pic_server:true,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6},xd_timeout:{rate:4,value:3e4},use_bundle:true,launch_payment_dialog_via_pac:{rate:100}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe","AppEvents","AppEvents.activateApp","AppEvents.logEvent","AppEvents.logPurchase","AppEvents.EventNames","AppEvents.ParameterNames"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:false,manage_mailbox:false,manage_friendlists:false,read_mailbox:false,publish_checkins:true,status_update:true,photo_upload:true,video_upload:true,sms:false,create_event:true,rsvp_event:true,offline_access:true,email:true,xmpp_login:false,create_note:true,share_item:true,export_stream:false,publish_stream:true,publish_likes:true,ads_management:false,contact_email:true,access_private_data:false,read_insights:false,read_requests:false,read_friendlists:true,manage_pages:false,physical_login:false,manage_groups:false,read_deals:false}}});h("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"});h("JSSDKXDConfig",[],{XdUrl:"/connect/xd_arbiter.php?version=41",XdBundleUrl:"/connect/xd_arbiter/KFZn1BJ0LYk.js?version=41",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:true});h("JSSDKCssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}',components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.plugin.recommendationsbar"]});h("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}});h("JSSDKCanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500});h("JSSDKPluginPipeConfig",[],{threshold:0,enabledApps:{0xbec51e4718e7:1,0xaa568c1d5c06:1}});h("QueryString",[],function(e,t,n,r,i,s){function o(e){var t=[];p(p("Object","keys",false,e).sort(),"forEach",true,function(n){var r=e[n];if(typeof r==="undefined")return;if(r===null){t.push(n);return}t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))});return t.join("&")}function u(e,t){var n={};if(e==="")return n;var r=e.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=",2),o=decodeURIComponent(s[0]);if(t&&n.hasOwnProperty(o))throw new URIError("Duplicate key: "+o);n[o]=s.length===2?decodeURIComponent(s[1]):null}return n}function a(e,t){return e+(~p(e,"indexOf",true,"?")?"&":"?")+(typeof t==="string"?t:f.encode(t))}var f={encode:o,decode:u,appendToUrl:a};i.exports=f},null);h("ManagedError",[],function(e,t,n,r,i,s){function o(e,t){Error.prototype.constructor.call(this,e);this.message=e;this.innerError=t}o.prototype=new Error;o.prototype.constructor=o;i.exports=o},null);h("AssertionError",["ManagedError"],function(e,t,n,r,i,s,o){function u(e){o.prototype.constructor.apply(this,arguments)}u.prototype=new o;u.prototype.constructor=u;i.exports=u},null);h("sprintf",[],function(e,t,n,r,i,s){function o(e){var t=Array.prototype.slice.call(arguments,1),n=0;return e.replace(/%s/g,function(e){return t[n++]})}i.exports=o},null);h("Assert",["AssertionError","sprintf"],function(e,t,n,r,i,s,o,u){function a(e,t){if(typeof e!=="boolean"||!e)throw new o(t);return e}function f(e,t,n){var r;if(t===undefined){r="undefined"}else if(t===null){r="null"}else{var i=Object.prototype.toString.call(t);r=/\s(\w*)/.exec(i)[1].toLowerCase()}a(p(e,"indexOf",true,r)!==-1,n||u("Expression is of type %s, not %s",r,e));return t}function l(e,t,n){a(t instanceof e,n||"Expression not instance of type");return t}function c(e,t){h["is"+e]=t;h["maybe"+e]=function(e,n){if(e!=null)t(e,n)}}var h={isInstanceOf:l,isTrue:a,isTruthy:function(e,t){return a(!!e,t)},type:f,define:function(e,t){e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase();c(e,function(e,n){a(t(e),n)})}};p(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",true,function(e){c(e,p(f,"bind",true,null,e.toLowerCase()))});i.exports=h},null);h("Type",["Assert"],function(e,t,n,r,i,s,o){function u(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function a(e,t){if(t instanceof e)return true;if(t instanceof u)for(var n=0;n<t.__mixins.length;n++)if(t.__mixins[n]==e)return true;return false}function f(e,t){var n=e.prototype;if(!p("Array","isArray",false,t))t=[t];for(var r=0;r<t.length;r++){var i=t[r];if(typeof i=="function"){n.__mixins.push(i);i=i.prototype}p(p("Object","keys",false,i),"forEach",true,function(e){n[e]=i[e]})}}function l(e,t,n){var r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){this.parent.apply(this,arguments)};o.isFunction(r);if(e&&e.prototype instanceof u===false)throw new Error("parent type does not inherit from Type");e=e||u;var i=new Function;i.prototype=e.prototype;r.prototype=new i;if(t)p("Object","assign",false,r.prototype,t);r.prototype.constructor=r;r.parent=e;r.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[];if(n)f(r,n);r.prototype.parent=function(){this.parent=e.prototype.parent;e.apply(this,arguments)};r.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))};r.extend=function(e,t){return l(this,e,t)};return r}p("Object","assign",false,u.prototype,{instanceOf:function(e){return a(e,this)}});p("Object","assign",false,u,{extend:function(e,t){return typeof e==="function"?l.apply(null,arguments):l(null,e,t)},instanceOf:a});i.exports=u},null);h("ObservableMixin",[],function(e,t,n,i,s,o){function u(){this.__observableEvents={}}u.prototype={inform:function(e){var t=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(this.getSubscribers(e));for(var i=0;i<n.length;i++){if(n[i]===null)continue;try{n[i].apply(this,t)}catch(s){r(function(){throw s},0)}}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){if(e)this.__observableEvents[e]=[];return this},clearAllSubscribers:function(){this.__observableEvents={};return this},subscribe:function(e,t){var n=this.getSubscribers(e);n.push(t);return this},unsubscribe:function(e,t){var n=this.getSubscribers(e);for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}return this},monitor:function(e,t){if(!t()){var n=p(function(r){if(t.apply(t,arguments))this.unsubscribe(e,n)},"bind",true,this);this.subscribe(e,n)}return this}};s.exports=u},null);h("sdk.Model",["Type","ObservableMixin"],function(e,t,n,r,i,s,o,u){var a=o.extend({constructor:function(e){this.parent();var t={},n=this;p(p("Object","keys",false,e),"forEach",true,function(r){t[r]=e[r];n["set"+r]=function(e){if(e===t[r])return this;t[r]=e;n.inform(r+".change",e);return n};n["get"+r]=function(){return t[r]}})}},u);i.exports=a},null);h("sdk.Runtime",["sdk.Model","JSSDKRuntimeConfig"],function(t,n,r,i,s,o,u,a){var f={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},l=new u({AccessToken:"",ClientID:"",CookieUserID:"",Environment:f.UNKNOWN,Initialized:false,IsVersioned:false,KidDirectedSite:undefined,Locale:a.locale,LoginStatus:undefined,Revision:a.revision,Rtl:a.rtl,Scope:undefined,Secure:undefined,UseCookie:false,UserID:"",Version:undefined});p("Object","assign",false,l,{ENVIRONMENTS:f,isEnvironment:function(e){var t=this.getEnvironment();return(e|t)===t},isCanvasEnvironment:function(){return this.isEnvironment(f.CANVAS)||this.isEnvironment(f.PAGETAB)}});(function(){var t=/app_runner/.test(e.name)?f.PAGETAB:/iframe_canvas/.test(e.name)?f.CANVAS:f.UNKNOWN;if((t|f.PAGETAB)===t)t=t|f.CANVAS;l.setEnvironment(t)})();s.exports=l},null);h("sdk.Cookie",["QueryString","sdk.Runtime"],function(e,t,r,i,s,o,u,a){function l(e,t,r){e=e+a.getClientID();var i=f&&f!==".";if(i){n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;";n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;"+"domain="+location.hostname+";"}var s=(new Date(r)).toGMTString();n.cookie=e+"="+t+(t&&r===0?"":"; expires="+s)+"; path=/"+(i?"; domain="+f:"")}function c(e){e=e+a.getClientID();var t=new RegExp("\\b"+e+"=([^;]*)\\b");return t.test(n.cookie)?RegExp.$1:null}var f=null;var h={setDomain:function(e){f=e;var t=u.encode({base_domain:f&&f!=="."?f:""}),n=new Date;n.setFullYear(n.getFullYear()+1);l("fbm_",t,n.getTime())},getDomain:function(){return f},loadMeta:function(){var e=c("fbm_");if(e){var t=u.decode(e);if(!f)f=t.base_domain;return t}},loadSignedRequest:function(){return c("fbsr_")},setSignedRequestCookie:function(e,t){if(!e)throw new Error("Value passed to Cookie.setSignedRequestCookie "+"was empty.");l("fbsr_",e,t)},clearSignedRequestCookie:function(){l("fbsr_","",0)},setRaw:l};s.exports=h},null);h("guid",[],function(e,t,n,r,i,s){function o(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}i.exports=o},null);h("UserAgent_DEPRECATED",[],function(e,t,r,i,s,o){function x(){if(u)return;u=true;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);b=/\b(iPhone|iP[ao]d)/.exec(e);w=/\b(iP[ao]d)/.exec(e);g=/Android/i.exec(e);E=/FBAN\/\w+;/i.exec(e);S=/Mobile/i.exec(e);y=!!/Win64/.exec(e);if(t){a=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN;if(a&&n&&n.documentMode)a=n.documentMode;var i=/(?:Trident\/(\d+.\d+))/.exec(e);p=i?parseFloat(i[1])+4:a;f=t[2]?parseFloat(t[2]):NaN;l=t[3]?parseFloat(t[3]):NaN;c=t[4]?parseFloat(t[4]):NaN;if(c){t=/(?:Chrome\/(\d+\.\d+))/.exec(e);h=t&&t[1]?parseFloat(t[1]):NaN}else h=NaN}else a=f=l=h=c=NaN;if(r){if(r[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);d=s?parseFloat(s[1].replace("_",".")):true}else d=false;v=!!r[2];m=!!r[3]}else d=v=m=false}var u=false,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;var T={ie:function(){return x()||a},ieCompatibilityMode:function(){return x()||p>a},ie64:function(){return T.ie()&&y},firefox:function(){return x()||f},opera:function(){return x()||l},webkit:function(){return x()||c},safari:function(){return T.webkit()},chrome:function(){return x()||h},windows:function(){return x()||v},osx:function(){return x()||d},linux:function(){return x()||m},iphone:function(){return x()||b},mobile:function(){return x()||b||w||g||S},nativeApp:function(){return x()||E},android:function(){return x()||g},ipad:function(){return x()||w}};s.exports=T},null);h("hasNamePropertyBug",["guid","UserAgent_DEPRECATED"],function(e,t,r,i,s,o,u,a){function l(){var e=n.createElement("form"),t=e.appendChild(n.createElement("input"));t.name=u();f=t!==e.elements[t.name];e=t=null;return f}function c(){return typeof f==="undefined"?l():f}var f=a.ie()?undefined:false;s.exports=c},null);h("wrapFunction",[],function(e,t,n,r,i,s){function u(e,t,n){t=t||"default";return function(){var r=t in o?o[t](e,n):e;return r.apply(this,arguments)}}var o={};u.setWrapper=function(e,t){t=t||"default";o[t]=e};i.exports=u},null);h("DOMEventListener",["wrapFunction"],function(t,n,r,i,s,o,u){var a,f;if(e.addEventListener){a=function(e,t,n){n.wrapper=u(n,"entry","DOMEventListener.add "+t);e.addEventListener(t,n.wrapper,false)};f=function(e,t,n){e.removeEventListener(t,n.wrapper,false)}}else if(e.attachEvent){a=function(e,t,n){n.wrapper=u(n,"entry","DOMEventListener.add "+t);e.attachEvent("on"+t,n.wrapper)};f=function(e,t,n){e.detachEvent("on"+t,n.wrapper)}}else f=a=function(){};var l={add:function(e,t,n){a(e,t,n);return{remove:function(){f(e,t,n);e=null}}},remove:f};s.exports=l},null);h("sdk.createIframe",["guid","hasNamePropertyBug","DOMEventListener"],function(e,t,r,i,s,o,u,a,f){function l(e){e=p("Object","assign",false,{},e);var t,r=e.name||u(),i=e.root,s=e.style||{border:"none"},o=e.url,l=e.onload,c=e.onerror;if(a()){t=n.createElement('<iframe name="'+r+'"/>')}else{t=n.createElement("iframe");t.name=r}delete e.style;delete e.name;delete e.url;delete e.root;delete e.onload;delete e.onerror;var h=p("Object","assign",false,{frameBorder:0,allowTransparency:true,scrolling:"no"},e);if(h.width)t.width=h.width+"px";if(h.height)t.height=h.height+"px";delete h.height;delete h.width;for(var d in h)if(h.hasOwnProperty(d))t.setAttribute(d,h[d]);p("Object","assign",false,t.style,s);t.src="javascript:false";i.appendChild(t);if(l)var v=f.add(t,"load",function(){v.remove();l()});if(c)var m=f.add(t,"error",function(){m.remove();c()});t.src=o;return t}s.exports=l},null);h("DOMWrapper",[],function(e,r,i,s,o,u){var a,f,l={setRoot:function(e){a=e},getRoot:function(){return a||n.body},setWindow:function(e){f=e},getWindow:function(){return f||t}};o.exports=l},null);h("sdk.feature",["JSSDKConfig"],function(e,t,n,r,i,s,o){function u(e,t){if(o.features&&e in o.features){var n=o.features[e];if(typeof n==="object"&&typeof n.rate==="number"){if(n.rate&&Math.random()*100<=n.rate){return n.value||true}else return n.value?null:false}else return n}return typeof t!=="undefined"?t:null}i.exports=u},null);h("sdk.getContextType",["UserAgent_DEPRECATED","sdk.Runtime"],function(e,t,n,r,i,s,o,u){function a(){if(o.nativeApp())return 3;if(o.mobile())return 2;if(u.isEnvironment(u.ENVIRONMENTS.CANVAS))return 5;return 1}i.exports=a},null);h("sdk.domReady",[],function(t,i,s,o,u,a){function c(){if(!f)return;var e;while(e=f.shift())e();f=null}function h(e){if(f){f.push(e);return}else e()}var f,l="readyState"in n?/loaded|complete/.test(n.readyState):!!n.body;if(!l){f=[];if(n.addEventListener){n.addEventListener("DOMContentLoaded",c,false);e.addEventListener("load",c,false)}else if(n.attachEvent){n.attachEvent("onreadystatechange",c);e.attachEvent("onload",c)}if(n.documentElement.doScroll&&e==e.top){var p=function(){try{n.documentElement.doScroll("left")}catch(e){r(p,0);return}c()};p()}}u.exports=h},3);h("Log",["sprintf"],function(t,n,r,i,s,o,u){function f(t,n){var r=Array.prototype.slice.call(arguments,2),i=u.apply(null,r),s=e.console;if(s&&l.level>=n)s[t in s?t:"log"](i)}var a={DEBUG:3,INFO:2,WARNING:1,ERROR:0};var l={level:-1,Level:a,debug:p(f,"bind",true,null,"debug",a.DEBUG),info:p(f,"bind",true,null,"info",a.INFO),warn:p(f,"bind",true,null,"warn",a.WARNING),error:p(f,"bind",true,null,"error",a.ERROR)};s.exports=l},null);h("sdk.Content",["sdk.domReady","Log","UserAgent_DEPRECATED"],function(e,t,r,i,s,o,u,a,f){var l,c,h={append:function(e,t){if(!t)if(!l){l=t=n.getElementById("fb-root");if(!t){a.warn('The "fb-root" div has not been created, auto-creating');l=t=n.createElement("div");t.id="fb-root";if(f.ie()||!n.body){u(function(){n.body.appendChild(t)})}else n.body.appendChild(t)}t.className+=" fb_reset"}else t=l;if(typeof e=="string"){var r=n.createElement("div");t.appendChild(r).innerHTML=e;return r}else return t.appendChild(e)},appendHidden:function(e){if(!t){var t=n.createElement("div"),r=t.style;r.position="absolute";r.top="-10000px";r.width=r.height=0;t=h.append(t)}return h.append(e,t)},submitToTarget:function(e,t){var r=n.createElement("form");r.action=e.url;r.target=e.target;r.method=t?"GET":"POST";h.appendHidden(r);for(var i in e.params)if(e.params.hasOwnProperty(i)){var s=e.params[i];if(s!==null&&s!==undefined){var o=n.createElement("input");o.name=i;o.value=s;r.appendChild(o)}}r.submit();r.parentNode.removeChild(r)}};s.exports=h},null);h("dotAccess",[],function(e,t,n,r,i,s){function o(e,t,n){var r=t.split(".");do{var i=r.shift();e=e[i]||n&&(e[i]={})}while(r.length&&e);return e}i.exports=o},null);h("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(e,t,n,r,i,s,o,u,a,f){var l,c,h={setPrefix:function(e){l=u(o.getWindow(),e,true);c=e},create:function(e,t){if(!l)this.setPrefix("__globalCallbacks");var n=a();l[n]=f(e,"entry",t||"GlobalCallback");return c+"."+n},remove:function(e){var t=e.substring(c.length+1);delete l[t]}};i.exports=h},null);h("insertIframe",["guid","GlobalCallback"],function(e,t,i,s,o,u,a,f){function l(e){e.id=e.id||a();e.name=e.name||a();var t=false,i=false,s=function(){if(t&&!i){i=true;e.onload&&e.onload(e.root.firstChild)}},o=f.create(s);if(n.attachEvent){var u="<iframe"+' id="'+e.id+'"'+' name="'+e.name+'"'+(e.title?' title="'+e.title+'"':"")+(e.className?' class="'+e.className+'"':"")+' style="border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'"'+' src="javascript:false;"'+' frameborder="0"'+' scrolling="no"'+' allowtransparency="true"'+' onload="'+o+'()"'+"></iframe>";e.root.innerHTML='<iframe src="javascript:false"'+' frameborder="0"'+' scrolling="no"'+' style="height:1px"></iframe>';t=true;r(function(){e.root.innerHTML=u;e.root.firstChild.src=e.url;e.onInsert&&e.onInsert(e.root.firstChild)},0)}else{var l=n.createElement("iframe");l.id=e.id;l.name=e.name;l.onload=s;l.scrolling="no";l.style.border="none";l.style.overflow="hidden";if(e.title)l.title=e.title;if(e.className)l.className=e.className;if(e.height!==undefined)l.style.height=e.height+"px";if(e.width!==undefined)if(e.width=="100%"){l.style.width=e.width}else l.style.width=e.width+"px";e.root.appendChild(l);t=true;l.src=e.url;e.onInsert&&e.onInsert(l)}}o.exports=l},null);h("Miny",[],function(e,t,n,r,i,s){function f(e){for(var t=u.encode.length;t<e;t++){var n=t.toString(32).split("");n[n.length-1]=a[parseInt(n[n.length-1],32)];n=n.join("");u.encode[t]=n;u.decode[n]=t}return u}function l(e){if(/^$|[~\\]|__proto__/.test(e))return e;var t=e.match(/\w+|\W+/g),n={};for(var r=0;r<t.length;r++)n[t[r]]=(n[t[r]]||0)+1;var i=p("Object","keys",false,n);i.sort(function(e,t){return n[e]<n[t]?1:n[t]<n[e]?-1:0});var s=f(i.length).encode;for(r=0;r<i.length;r++)n[i[r]]=s[r];var u=[];for(r=0;r<t.length;r++)u[r]=n[t[r]];return[o,i.length].concat(i).concat(u.join("")).join("~")}function c(e){var t=e.split("~");if(t.shift()!=o)return e;var n=parseInt(t.shift(),10),r=t.pop();r=r.match(/[0-9a-v]*[\-w-zA-Z_]/g);var i=t,s=f(n).decode,u=[];for(var a=0;a<r.length;a++)u[a]=i[s[r[a]]];return u.join("")}var o="Miny1",u={encode:[],decode:{}},a="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("");var h={encode:l,decode:c};i.exports=h},null);h("UrlMap",["UrlMapConfig"],function(e,t,n,r,i,s,o){var u={resolve:function(e,t){var n=typeof t=="undefined"?location.protocol.replace(":",""):t?"https":"http";if(e in o)return n+"://"+o[e];if(typeof t=="undefined"&&e+"_"+n in o)return n+"://"+o[e+"_"+n];if(t!==true&&e+"_http"in o)return"http://"+o[e+"_http"];if(t!==false&&e+"_https"in o)return"https://"+o[e+"_https"]}};i.exports=u},null);h("sdk.Impressions",["sdk.Content","guid","insertIframe","Miny","QueryString","sdk.Runtime","UrlMap"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function d(e){var t=c.getClientID();if(!e.api_key&&t)e.api_key=t;e.kid_directed_site=c.getKidDirectedSite();var n=h.resolve("www",true)+"/impression.php/"+u()+"/",r=l.appendToUrl(n,e);if(r.length>2e3)if(e.payload&&typeof e.payload==="string"){var i=f.encode(e.payload);if(i&&i.length<e.payload.length){e.payload=i;r=l.appendToUrl(n,e)}}if(r.length<=2e3){var s=new Image;s.src=r}else{var p=u(),d=o.appendHidden("");a({url:"javascript:false",root:d,name:p,className:"fb_hidden fb_invisible",onload:function(){d.parentNode.removeChild(d)}});o.submitToTarget({url:n,target:p,params:e})}}var v={log:function(e,t){if(!t.source)t.source="jssdk";d({lid:e,payload:p("JSON","stringify",false,t)})},impression:d};i.exports=v},null);h("Base64",[],function(e,t,n,r,i,s){function u(e){e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2);return String.fromCharCode(o.charCodeAt(e>>>18),o.charCodeAt(e>>>12&63),o.charCodeAt(e>>>6&63),o.charCodeAt(e&63))}function f(e){e=a.charCodeAt(e.charCodeAt(0)-43)<<18|a.charCodeAt(e.charCodeAt(1)-43)<<12|a.charCodeAt(e.charCodeAt(2)-43)<<6|a.charCodeAt(e.charCodeAt(3)-43);return String.fromCharCode(e>>>16,e>>>8&255,e&255)}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var a=">___?456789:;<=_______"+"\0\b	\n\f\r"+"______ !\"#$%&'()*+,-./0123";var l={encode:function(e){e=unescape(encodeURI(e));var t=(e.length+2)%3;e=(e+"\0\0".slice(t)).replace(/[\s\S]{3}/g,u);return e.slice(0,e.length+t-2)+"==".slice(t)},decode:function(e){e=e.replace(/[^A-Za-z0-9+\/]/g,"");var t=e.length+3&3;e=(e+"AAA".slice(t)).replace(/..../g,f);e=e.slice(0,e.length+t-3);try{return decodeURIComponent(escape(e))}catch(n){throw new Error("Not valid UTF-8")}},encodeObject:function(e){return l.encode(p("JSON","stringify",false,e))},decodeObject:function(e){return p("JSON","parse",false,l.decode(e))},encodeNums:function(e){return String.fromCharCode.apply(String,p(e,"map",true,function(e){return o.charCodeAt((e|-(e>63))&-(e>0)&63)}))}};i.exports=l},null);h("sdk.SignedRequest",["Base64"],function(e,t,n,r,i,s,o){function u(e){if(!e)return null;var t=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return o.decodeObject(t)}var a={parse:u};i.exports=a},null);h("URIRFC3986",[],function(e,t,n,r,i,s){var o=new RegExp("^"+"([^:/?#]+:)?"+"(//"+"([^\\\\/?#@]*@)?"+"("+"\\[[A-Fa-f0-9:.]+\\]|"+"[^\\/?#:]*"+")"+"(:[0-9]*)?"+")?"+"([^?#]*)"+"(\\?[^#]*)?"+"(#.*)?"),u={parse:function(e){if(p(e,"trim",true)==="")return null;var t=e.match(o),n={};n.uri=t[0]?t[0]:null;n.scheme=t[1]?t[1].substr(0,t[1].length-1):null;n.authority=t[2]?t[2].substr(2):null;n.userinfo=t[3]?t[3].substr(0,t[3].length-1):null;n.host=t[2]?t[4]:null;n.port=t[5]?t[5].substr(1)?parseInt(t[5].substr(1),10):null:null;n.path=t[6]?t[6]:null;n.query=t[7]?t[7].substr(1):null;n.fragment=t[8]?t[8].substr(1):null;n.isGenericURI=n.authority===null&&!!n.scheme;return n}};i.exports=u},null);h("createObjectFrom",[],function(e,t,n,r,i,s){function o(e,t){var n={},r=p("Array","isArray",false,t);if(typeof t=="undefined")t=true;for(var i=e.length;i--;)n[e[i]]=r?t[i]:t;return n}i.exports=o},null);h("URISchemes",["createObjectFrom"],function(e,t,n,r,i,s,o){var u=o(["fb","fbcf","fbconnect","fb-messenger","fbrpc","file","ftp","http","https","mailto","ms-app","itms","itms-apps","itms-services","market","svn+ssh","fbstaging","tel","sms","pebblejs"]),a={isAllowed:function(e){if(!e)return true;return u.hasOwnProperty(e.toLowerCase())}};i.exports=a},null);h("copyProperties",[],function(e,t,n,r,i,s){function o(e,t,n,r,i,s,o){e=e||{};var u=[t,n,r,i,s],a=0,f;while(u[a]){f=u[a++];for(var l in f)e[l]=f[l];if(f.hasOwnProperty&&f.hasOwnProperty("toString")&&typeof f.toString!="undefined"&&e.toString!==f.toString)e.toString=f.toString}return e}i.exports=o},null);h("eprintf",[],function(e,t,n,r,i,s){var o=function(e){var t=p(Array.prototype.slice.call(arguments),"map",true,function(e){return String(e)}),n=e.split("%s").length-1;if(n!==t.length-1)return o("eprintf args number mismatch: %s",p("JSON","stringify",false,t));var r=1;return e.replace(/%s/g,function(e){return String(t[r++])})};i.exports=o},null);h("ex",["eprintf"],function(e,t,n,r,i,s,o){var u=function(){var e=Array.prototype.slice.call(arguments,0);e=p(e,"map",true,function(e){return String(e)});if(e[0].split("%s").length!==e.length)return u("ex args number mismatch: %s",p("JSON","stringify",false,e));return u._prefix+p("JSON","stringify",false,e)+u._suffix};u._prefix="<![EX[";u._suffix="]]>";i.exports=u},null);h("invariant",[],function(e,t,n,r,i,s){"use strict";var o=function(e,t,n,r,i,s,o,u){if(!e){var a;if(t===undefined){a=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var f=[n,r,i,s,o,u],l=0;a=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return f[l++]}))}a.framesToPop=1;throw a}};i.exports=o},null);h("URIBase",["URIRFC3986","URISchemes","copyProperties","ex","invariant"],function(e,t,n,r,i,s,o,u,a,f,l){function d(e,t,n,r){if(!t)return true;if(t instanceof v){e.setProtocol(t.getProtocol());e.setDomain(t.getDomain());e.setPort(t.getPort());e.setPath(t.getPath());e.setQueryData(r.deserialize(r.serialize(t.getQueryData())));e.setFragment(t.getFragment());e.setForceFragmentSeparator(t.getForceFragmentSeparator());return true}t=p(t.toString(),"trim",true);var i=o.parse(t)||{};if(!n&&!u.isAllowed(i.scheme))return false;e.setProtocol(i.scheme||"");if(!n&&c.test(i.host))return false;e.setDomain(i.host||"");e.setPort(i.port||"");e.setPath(i.path||"");if(n){e.setQueryData(r.deserialize(i.query)||{})}else try{e.setQueryData(r.deserialize(i.query)||{})}catch(s){return false}e.setFragment(i.fragment||"");if(i.fragment==="")e.setForceFragmentSeparator(true);if(i.userinfo!==null)if(n){throw new Error(f("URI.parse: invalid URI (userinfo is not allowed in a URI): %s",e.toString()))}else return false;if(!e.getDomain()&&p(e.getPath(),"indexOf",true,"\\")!==-1)if(n){throw new Error(f("URI.parse: invalid URI (no domain but multiple back-slashes): %s",e.toString()))}else return false;if(!e.getProtocol()&&h.test(t))if(n){throw new Error(f("URI.parse: invalid URI (unsafe protocol-relative URLs): %s",e.toString()))}else return false;return true}function v(e,t){"use strict";l(t);this.$URIBase0=t;this.$URIBase1="";this.$URIBase2="";this.$URIBase3="";this.$URIBase4="";this.$URIBase5="";this.$URIBase6={};this.$URIBase7=false;d(this,e,true,t)}var c=new RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f"+"\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF"+"\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),h=new RegExp("^(?:[^/]*:|"+"[\\x00-\\x1f]*/[\\x00-\\x1f]*/)");v.prototype.setProtocol=function(e){"use strict";l(u.isAllowed(e));this.$URIBase1=e;return this};v.prototype.getProtocol=function(e){"use strict";return this.$URIBase1};v.prototype.setSecure=function(e){"use strict";return this.setProtocol(e?"https":"http")};v.prototype.isSecure=function(){"use strict";return this.getProtocol()==="https"};v.prototype.setDomain=function(e){"use strict";if(c.test(e))throw new Error(f("URI.setDomain: unsafe domain specified: %s for url %s",e,this.toString()));this.$URIBase2=e;return this};v.prototype.getDomain=function(){"use strict";return this.$URIBase2};v.prototype.setPort=function(e){"use strict";this.$URIBase3=e;return this};v.prototype.getPort=function(){"use strict";return this.$URIBase3};v.prototype.setPath=function(e){"use strict";this.$URIBase4=e;return this};v.prototype.getPath=function(){"use strict";return this.$URIBase4};v.prototype.addQueryData=function(e,t){"use strict";if(Object.prototype.toString.call(e)==="[object Object]"){a(this.$URIBase6,e)}else this.$URIBase6[e]=t;return this};v.prototype.setQueryData=function(e){"use strict";this.$URIBase6=e;return this};v.prototype.getQueryData=function(){"use strict";return this.$URIBase6};v.prototype.removeQueryData=function(e){"use strict";if(!p("Array","isArray",false,e))e=[e];for(var t=0,n=e.length;t<n;++t)delete this.$URIBase6[e[t]];return this};v.prototype.setFragment=function(e){"use strict";this.$URIBase5=e;this.setForceFragmentSeparator(false);return this};v.prototype.getFragment=function(){"use strict";return this.$URIBase5};v.prototype.setForceFragmentSeparator=function(e){"use strict";this.$URIBase7=e;return this};v.prototype.getForceFragmentSeparator=function(){"use strict";return this.$URIBase7};v.prototype.isEmpty=function(){"use strict";return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||p("Object","keys",false,this.getQueryData()).length>0||this.getFragment())};v.prototype.toString=function(){"use strict";var e="",t=this.getProtocol();if(t)e+=t+"://";var n=this.getDomain();if(n)e+=n;var r=this.getPort();if(r)e+=":"+r;var i=this.getPath();if(i){e+=i}else if(e)e+="/";var s=this.$URIBase0.serialize(this.getQueryData());if(s)e+="?"+s;var o=this.getFragment();if(o){e+="#"+o}else if(this.getForceFragmentSeparator())e+="#";return e};v.prototype.getOrigin=function(){"use strict";var e=this.getPort();return this.getProtocol()+"://"+this.getDomain()+(e?":"+e:"")};v.isValidURI=function(e,t){return d(new v(null,t),e,false,t)};i.exports=v},null);h("sdk.URI",["Assert","QueryString","URIBase"],function(e,t,n,r,i,s,o,u,a){function d(e){"use strict";o.isString(e,"The passed argument was of invalid type.");if(!(this instanceof d))return new d(e);a.call(this,e,l)}var f=/\.facebook\.com$/,l={serialize:function(e){return e?u.encode(e):""},deserialize:function(e){return e?u.decode(e):{}}};for(var c in a)if(a.hasOwnProperty(c))d[c]=a[c];var h=a===null?null:a.prototype;d.prototype=p("Object","create",false,h);d.prototype.constructor=d;d.__superConstructor__=a;d.prototype.isFacebookURI=function(){"use strict";return f.test(this.getDomain())};d.prototype.valueOf=function(){"use strict";return this.toString()};i.exports=d},null);h("sdk.Event",[],function(e,t,n,r,i,s){var o={SUBSCRIBE:"event.subscribe",UNSUBSCRIBE:"event.unsubscribe",subscribers:function(){if(!this._subscribersMap)this._subscribersMap={};return this._subscribersMap},subscribe:function(e,t){var n=this.subscribers();if(!n[e]){n[e]=[t]}else if(p(n[e],"indexOf",true,t)==-1)n[e].push(t);if(e!=this.SUBSCRIBE&&e!=this.UNSUBSCRIBE)this.fire(this.SUBSCRIBE,e,n[e])},unsubscribe:function(e,t){var n=this.subscribers()[e];if(n)p(n,"forEach",true,function(e,r){if(e==t)n.splice(r,1)});if(e!=this.SUBSCRIBE&&e!=this.UNSUBSCRIBE)this.fire(this.UNSUBSCRIBE,e,n)},monitor:function(e,t){if(!t()){var n=this,r=function(){if(t.apply(t,arguments))n.unsubscribe(e,r)};this.subscribe(e,r)}},clear:function(e){delete this.subscribers()[e]},fire:function(e){var t=Array.prototype.slice.call(arguments,1),n=this.subscribers()[e];if(n)p(n,"forEach",true,function(e){if(e)e.apply(this,t)})}};i.exports=o},null);h("Queue",["copyProperties"],function(e,t,n,i,o,u,a){function l(e){"use strict";this._opts=a({interval:0,processor:null},e);this._queue=[];this._stopped=true}var f={};l.prototype._dispatch=function(e){"use strict";if(this._stopped||this._queue.length===0)return;if(!this._opts.processor){this._stopped=true;throw new Error("No processor available")}if(this._opts.interval){this._opts.processor.call(this,this._queue.shift());this._timeout=r(p(this._dispatch,"bind",true,this),this._opts.interval)}else while(this._queue.length)this._opts.processor.call(this,this._queue.shift())};l.prototype.enqueue=function(e){"use strict";if(this._opts.processor&&!this._stopped){this._opts.processor.call(this,e)}else this._queue.push(e);return this};l.prototype.start=function(e){"use strict";if(e)this._opts.processor=e;this._stopped=false;this._dispatch();return this};l.prototype.isStarted=function(){"use strict";return!this._stopped};l.prototype.dispatch=function(){"use strict";this._dispatch(true)};l.prototype.stop=function(e){"use strict";this._stopped=true;if(e)s(this._timeout);return this};l.prototype.merge=function(e,t){"use strict";this._queue[t?"unshift":"push"].apply(this._queue,e._queue);e._queue=[];this._dispatch();return this};l.prototype.getLength=function(){"use strict";return this._queue.length};l.get=function(e,t){"use strict";var n;if(e in f){n=f[e]}else n=f[e]=new l(t);return n};l.exists=function(e){"use strict";return e in f};l.remove=function(e){"use strict";return delete f[e]};o.exports=l},null);h("JSONRPC",["Log"],function(e,t,n,i,s,o,u){function a(e){"use strict";this.$JSONRPC0=0;this.$JSONRPC1={};this.remote=p(function(e){this.$JSONRPC2=e;return this.remote},"bind",true,this);this.local={};this.$JSONRPC3=e}a.prototype.stub=function(e){"use strict";this.remote[e]=p(function(){var t=Array.prototype.slice.call(arguments,0),n={jsonrpc:"2.0",method:e};if(typeof t[t.length-1]=="function"){n.id=++this.$JSONRPC0;this.$JSONRPC1[n.id]=t.pop()}n.params=t;this.$JSONRPC3(p("JSON","stringify",false,n),this.$JSONRPC2||{method:e})},"bind",true,this)};a.prototype.read=function(e,t){"use strict";var n=p("JSON","parse",false,e),i=n.id;if(!n.method){if(!this.$JSONRPC1[i]){u.warn("Could not find callback %s",i);return}var s=this.$JSONRPC1[i];delete this.$JSONRPC1[i];delete n.id;delete n.jsonrpc;s(n);return}var o=this,a=this.local[n.method],f;if(i){f=function(e,n){var s={jsonrpc:"2.0",id:i};s[e]=n;r(function(){o.$JSONRPC3(p("JSON","stringify",false,s),t)},0)}}else f=function(){};if(!a){u.error('Method "%s" has not been defined',n.method);f("error",{code:-32601,message:"Method not found",data:n.method});return}n.params.push(p(f,"bind",true,null,"result"));n.params.push(p(f,"bind",true,null,"error"));try{var l=a.apply(t||null,n.params);if(typeof l!=="undefined")f("result",l)}catch(c){u.error("Invokation of RPC method %s resulted in the error: %s",n.method,c.message);f("error",{code:-32603,message:"Internal error",data:c.message})}};s.exports=a},null);h("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,n,r,i,s,o,u,a){var f=new a,l=new u(function(e){f.enqueue(e)}),c={local:l.local,remote:l.remote,stub:p(l.stub,"bind",true,l),setInQueue:function(e){o.isInstanceOf(a,e);e.start(function(e){l.read(e)})},getOutQueue:function(){return f}};i.exports=c},null);h("sdk.Scribe",["QueryString","sdk.Runtime","UrlMap"],function(e,t,n,r,i,s,o,u,a){function f(e,t){if(typeof t.extra=="object")t.extra.revision=u.getRevision();(new Image).src=o.appendToUrl(a.resolve("www",true)+"/common/scribe_endpoint.php",{c:e,m:p("JSON","stringify",false,t)})}var l={log:f};i.exports=l},null);h("emptyFunction",["copyProperties"],function(e,t,n,r,i,s,o){function u(e){return function(){return e}}function a(){}o(a,{thatReturns:u,thatReturnsFalse:u(false),thatReturnsTrue:u(true),thatReturnsNull:u(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}});i.exports=a},null);h("htmlSpecialChars",[],function(e,t,n,r,i,s){function c(e){if(typeof e=="undefined"||e===null||!e.toString)return"";if(e===false){return"0"}else if(e===true)return"1";return e.toString().replace(o,"&").replace(f,"&quot;").replace(l,"&#039;").replace(u,"&lt;").replace(a,"&gt;")}var o=/&/g,u=/</g,a=/>/g,f=/"/g,l=/'/g;i.exports=c},null);h("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent_DEPRECATED","copyProperties","guid","htmlSpecialChars"],function(t,n,r,i,s,o,u,a,f,l,c,h,p){function g(e){var t=m.getElementById(e);if(t)t.parentNode.removeChild(t);delete d[e]}function y(){for(var e in d)if(d.hasOwnProperty(e))g(e)}function b(e){return e.replace(/\d+/g,function(e){return"000".substring(e.length)+e})}function w(t){if(!v){if(l.ie()>=9)u.add(e,"unload",y);v=true}d[t]=t}var d={},v,m=a.getWindow().document;var E={embed:function(e,t,n,r){var i=h();e=p(e).replace(/&/g,"&");n=c({allowscriptaccess:"always",flashvars:r,movie:e},n||{});if(typeof n.flashvars=="object")n.flashvars=f.encode(n.flashvars);var s=[];for(var o in n)if(n.hasOwnProperty(o)&&n[o])s.push('<param name="'+p(o)+'" value="'+p(n[o])+'">');var u=t.appendChild(m.createElement("span")),a="<object "+(l.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+e+'" '+(n.height?'height="'+n.height+'" ':"")+(n.width?'width="'+n.width+'" ':"")+'id="'+i+'">'+s.join("")+"</object>";u.innerHTML=a;var d=u.firstChild;w(i);return d},remove:g,getVersion:function(){var e="Shockwave Flash",t="application/x-shockwave-flash",n="ShockwaveFlash.ShockwaveFlash",r;if(navigator.plugins&&typeof navigator.plugins[e]=="object"){var i=navigator.plugins[e].description;if(i&&navigator.mimeTypes&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin)r=i.match(/\d+/g)}if(!r)try{r=(new ActiveXObject(n)).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/);r=Array.prototype.slice.call(r,1)}catch(s){}return r},checkMinVersion:function(e){var t=E.getVersion();if(!t)return false;return b(t.join("."))>=b(e)},isAvailable:function(){return!!E.getVersion()}};s.exports=E},null);h("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent_DEPRECATED","wrapFunction"],function(e,t,n,i,o,u,a,f,l,c,h,p,d,v,m){function w(e){var t={},n=e.length,r=y.transports;while(n--)t[e[n]]=1;n=r.length;while(n--){var i=r[n],s=g[i];if(!t[i]&&s.isAvailable())return i}}var g={},y={transports:[]},b=f.getWindow();var E={register:function(e,t){d.debug("Registering %s as XDM provider",e);y.transports.push(e);g[e]=t},create:function(e){if(!e.whenReady&&!e.onMessage){d.error("An instance without whenReady or onMessage makes no sense");throw new Error("An instance without whenReady or "+"onMessage makes no sense")}if(!e.channel){d.warn("Missing channel name, selecting at random");e.channel=p()}if(!e.whenReady)e.whenReady=l;if(!e.onMessage)e.onMessage=l;var t=e.transport||w(e.blacklist||[]),n=g[t];if(n&&n.isAvailable()){d.debug("%s is available",t);n.init(e);return t}}};E.register("flash",function(){var e=false,t,n=false,i=15e3,o;return{isAvailable:function(){return c.checkMinVersion("8.0.24")},init:function(u){d.debug("init flash: "+u.channel);var a={send:function(e,n,r,i){d.debug("sending to: %s (%s)",n,i);t.postMessage(e,n,i)}};if(e){u.whenReady(a);return}var f=u.root.appendChild(b.document.createElement("div")),l=h.create(function(){h.remove(l);s(o);d.info("xdm.swf called the callback");var e=h.create(function(e,t){e=decodeURIComponent(e);t=decodeURIComponent(t);d.debug("received message %s from %s",e,t);u.onMessage(e,t)},"xdm.swf:onMessage");t.init(u.channel,e);u.whenReady(a)},"xdm.swf:load");t=c.embed(u.flashUrl,f,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:l,log:n});o=r(function(){d.warn("The Flash component did not load within %s ms - "+"verify that the container is not set to hidden or invisible "+"using CSS as this will cause some browsers to not load "+"the components",i)},i);e=true}}}());E.register("postmessage",function(){var e=false;return{isAvailable:function(){return!!b.postMessage},init:function(t){d.debug("init postMessage: "+t.channel);var n="_FB_"+t.channel,i={send:function(e,t,n,i){if(b===n){d.error("Invalid windowref, equal to window (self)");throw new Error}d.debug("sending to: %s (%s)",t,i);var s=function(){n.postMessage("_FB_"+i+e,t)};if(v.ie()==8||v.ieCompatibilityMode()){r(s,0)}else s()}};if(e){t.whenReady(i);return}a.add(b,"message",m(function(e){var r=e.data,i=e.origin||"native";if(!/^(https?:\/\/|native$)/.test(i)){d.debug("Received message from invalid origin type: %s",i);return}if(typeof r!="string"){d.warn("Received message of type %s from %s, expected a string",typeof r,i);return}d.debug("received message %s from %s",r,i);if(r.substring(0,n.length)==n)r=r.substring(n.length);t.onMessage(r,i)},"entry","onMessage"));t.whenReady(i);e=true}}}());o.exports=E},null);h("isFacebookURI",[],function(e,t,n,r,i,s){function a(e){if(!o)o=new RegExp("(^|\\.)facebook\\.com$","i");if(e.isEmpty())return false;if(!e.getDomain()&&!e.getProtocol())return true;return p(u,"indexOf",true,e.getProtocol())!==-1&&o.test(e.getDomain())}var o=null,u=["http","https"];i.exports=a},null);h("sdk.XD",["sdk.Content","sdk.Event","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","sdk.Scribe","sdk.URI","UrlMap","JSSDKXDConfig","XDM","isFacebookURI","sdk.createIframe","sdk.feature","guid"],function(e,t,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w,E,S,x,T){function U(e){l.info("Remote XD can talk to facebook.com (%s)",e);v.setEnvironment(e==="canvas"?v.ENVIRONMENTS.CANVAS:v.ENVIRONMENTS.PAGETAB)}function z(e,t){if(!t){l.error("No senderOrigin");throw new Error}var n=/^https?/.exec(t)[0];switch(e.xd_action){case"proxy_ready":var r,i;if(n=="https"){r=k;i=A}else{r=C;i=L}if(e.registered){U(e.registered);N=r.merge(N)}l.info("Proxy ready, starting queue %s containing %s messages",n+"ProxyQueue",r.getLength());r.start(function(e){j.send(typeof e==="string"?e:c.encode(e),t,i.contentWindow,H+"_"+n)});break;case"plugin_ready":l.info("Plugin %s ready, protocol: %s",e.name,n);q[e.name]={protocol:n};if(h.exists(e.name)){var s=h.get(e.name);l.debug("Enqueuing %s messages for %s in %s",s.getLength(),e.name,n+"ProxyQueue");(n=="https"?k:C).merge(s)}break}if(e.data)W(e.data,t)}function W(e,t){if(t&&t!=="native"&&!E(g(t)))return;if(typeof e=="string"){if(/^FB_RPC:/.test(e)){R.enqueue(e.substring(7));return}if(e.substring(0,1)=="{"){try{e=p("JSON","parse",false,e)}catch(n){l.warn("Failed to decode %s as JSON",e);return}}else e=c.decode(e)}if(!t)if(e.xd_sig==O)t=e.xd_origin;if(e.xd_action){z(e,t);return}if(e.access_token)v.setSecure(/^https/.test(B));if(e.cb){var r=$._callbacks[e.cb];if(!$._forever[e.cb])delete $._callbacks[e.cb];if(r)r(e)}}function X(e,t){if(e=="facebook"){t.relation="parent.parent";N.enqueue(t)}else{t.relation='parent.frames["'+e+'"]';var n=q[e];if(n){l.debug("Enqueuing message for plugin %s in %s",e,n.protocol+"ProxyQueue");(n.protocol=="https"?k:C).enqueue(t)}else{l.debug("Buffering message for plugin %s",e);h.get(e).enqueue(t)}}}function V(e){if(F)return;var t=a.appendHidden(n.createElement("div")),r=w.create({blacklist:null,root:t,channel:H,flashUrl:b.Flash.path,whenReady:function(n){j=n;var i={channel:H,origin:location.protocol+"//"+location.host,transport:r,xd_name:e},s="#"+c.encode(i);if(v.getSecure()!==true)L=S({url:D+s,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:t,"aria-hidden":true,title:I,tabindex:-1});A=S({url:P+s,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:t,"aria-hidden":true,title:I,tabindex:-1})},onMessage:W});if(!r)m.log("jssdk_error",{appId:v.getClientID(),error:"XD_TRANSPORT",extra:{message:"Failed to create a valid transport"}});F=true}var N=new h,C=new h,k=new h,L,A,O=T(),M=b.useCdn?"cdn":"www",_=x("use_bundle")?b.XdBundleUrl:b.XdUrl,D=y.resolve(M,false)+_,P=y.resolve(M,true)+_,H=T(),B=location.protocol+"//"+location.host,j,F=false,I="Facebook Cross Domain Communication Frame",q={},R=new h;d.setInQueue(R);d.getOutQueue().start(function(e){X("facebook","FB_RPC:"+e)});var $={rpc:d,_callbacks:{},_forever:{},_channel:H,_origin:B,onMessage:W,recv:W,init:V,sendToFacebook:X,inform:function(e,t,n,r){X("facebook",{method:e,params:p("JSON","stringify",false,t||{}),behavior:r||"p",relation:n})},handler:function(e,t,n,r){var i="#"+c.encode({cb:this.registerCallback(e,n,r),origin:B+"/"+H,domain:location.hostname,relation:t||"opener"});return(location.protocol=="https:"?P:D)+i},registerCallback:function(e,t,n){n=n||T();if(t)$._forever[n]=true;$._callbacks[n]=e;return n}};f.subscribe("init:post",function(e){V(e.xdProxyName);var t=x("xd_timeout");if(t)r(function(){var e=A&&!!L==C.isStarted()&&!!A==k.isStarted();if(!e)m.log("jssdk_error",{appId:v.getClientID(),error:"XD_INITIALIZATION",extra:{message:"Failed to initialize in "+t+"ms"}})},t)});o.exports=$},null);h("sdk.Auth",["sdk.Cookie","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","sdk.Runtime","sdk.SignedRequest","UrlMap","sdk.URI","sdk.XD"],function(e,t,n,i,o,u,a,f,l,c,h,d,v,m,g,y,b,w,E,S){function C(e,t){var n=y.getUserID(),r="";if(e)if(e.userID){r=e.userID}else if(e.signedRequest){var i=b.parse(e.signedRequest);if(i&&i.user_id)r=i.user_id}var s=y.getLoginStatus(),o=s==="unknown"&&e||y.getUseCookie()&&y.getCookieUserID()!==r,u=n&&!e,a=e&&n&&n!=r,f=e!=x,l=t!=(s||"unknown");y.setLoginStatus(t);y.setAccessToken(e&&e.accessToken||null);y.setUserID(r);x=e;var c={authResponse:e,status:t};if(u||a)N.inform("logout",c);if(o||a)N.inform("login",c);if(f)N.inform("authresponse.change",c);if(l)N.inform("status.change",c);return c}function k(){return x}function L(e,t,n){return function(r){var i;if(r&&r.access_token){var s=b.parse(r.signed_request);t={accessToken:r.access_token,userID:s.user_id,expiresIn:parseInt(r.expires_in,10),signedRequest:r.signed_request};if(r.granted_scopes)t.grantedScopes=r.granted_scopes;if(y.getUseCookie()){var o=t.expiresIn===0?0:p("Date","now",false)+t.expiresIn*1e3,u=a.getDomain();if(!u&&r.base_domain)a.setDomain("."+r.base_domain);a.setSignedRequestCookie(r.signed_request,o)}i="connected";C(t,i)}else if(n==="logout"||n==="login_status"){if(r.error&&r.error==="not_authorized"){i="not_authorized"}else i="unknown";C(null,i);if(y.getUseCookie())a.clearSignedRequestCookie()}if(r&&r.https==1)y.setSecure(true);if(e)e({authResponse:t,status:y.getLoginStatus()});return t}}function A(e){var t,n=p("Date","now",false);if(T){s(T);T=null}var i=L(e,x,"login_status"),o=E(w.resolve("www",true)+"/connect/ping").setQueryData({client_id:y.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:h(),redirect_uri:S.handler(function(e){if(c("e2e_ping_tracking",true)){var s={init:n,close:p("Date","now",false),method:"ping"};m.debug("e2e: %s",p("JSON","stringify",false,s));v.log(114,{payload:s})}t.parentNode.removeChild(t);if(i(e))T=r(function(){A(function(){})},12e5)},"parent"),sdk:"joey",kid_directed_site:y.getKidDirectedSite()});t=f({root:l.getRoot(),name:d(),url:o.toString(),style:{display:"none"}})}function M(e,t){if(!y.getClientID()){m.warn("FB.getLoginStatus() called before calling FB.init().");return}if(e)if(!t&&O=="loaded"){e({status:y.getLoginStatus(),authResponse:k()});return}else N.subscribe("FB.loginStatus",e);if(!t&&O=="loading")return;O="loading";var n=function(e){O="loaded";N.inform("FB.loginStatus",e);N.clearSubscribers("FB.loginStatus")};A(n)}var x,T,N=new g;var O;p("Object","assign",false,N,{getLoginStatus:M,fetchLoginStatus:A,setAuthResponse:C,getAuthResponse:k,parseSignedRequest:b.parse,xdResponseWrapper:L});o.exports=N},null);h("toArray",["invariant"],function(e,t,n,r,i,s,o){function u(e){var t=e.length;o(!p("Array","isArray",false,e)&&(typeof e==="object"||typeof e==="function"));o(typeof t==="number");o(t===0||t-1 in e);if(e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}var r=Array(t);for(var i=0;i<t;i++)r[i]=e[i];return r}i.exports=u},null);h("createArrayFrom",["toArray"],function(e,t,n,r,i,s,o){function u(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(p("Array","isArray",false,e)||"callee"in e||"item"in e)}function a(e){if(!u(e)){return[e]}else if(p("Array","isArray",false,e)){return e.slice()}else return o(e)}i.exports=a},null);h("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent_DEPRECATED"],function(t,r,i,s,o,u,a,f,l,c){function d(e,t){var n=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,""));return n?String(n):null}function v(e,t){var n=d(e,t);return n?/^(true|1|yes|on)$/.test(n):null}function m(e,t){a.isTruthy(e,"element not specified");a.isString(t);try{return String(e[t])}catch(n){throw new Error("Could not read property "+t+" : "+n.message)}}function g(e,t){a.isTruthy(e,"element not specified");a.isString(t);try{e.innerHTML=t}catch(n){throw new Error("Could not set innerHTML : "+n.message)}}function y(e,t){a.isTruthy(e,"element not specified");a.isString(t);var n=" "+m(e,"className")+" ";return p(n,"indexOf",true," "+t+" ")>=0}function b(e,t){a.isTruthy(e,"element not specified");a.isString(t);if(!y(e,t))e.className=m(e,"className")+" "+t}function w(e,t){a.isTruthy(e,"element not specified");a.isString(t);var n=new RegExp("\\s*"+t,"g");e.className=p(m(e,"className").replace(n,""),"trim",true)}function E(e,t,r){a.isString(e);t=t||n.body;r=r||"*";if(t.querySelectorAll)return f(t.querySelectorAll(r+"."+e));var i=t.getElementsByTagName(r),s=[];for(var o=0,u=i.length;o<u;o++)if(y(i[o],e))s[s.length]=i[o];return s}function S(e,t){a.isTruthy(e,"element not specified");a.isString(t);t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var r=e.currentStyle||n.defaultView.getComputedStyle(e,null),i=r[t];if(/backgroundPosition?/.test(t)&&/top|left/.test(i))i="0%";return i}function x(e,t,n){a.isTruthy(e,"element not specified");a.isString(t);t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});e.style[t]=n}function T(e,t){var r=true;for(var i=0,s;s=t[i++];)if(!(s in h)){r=false;h[s]=true}if(r)return;if(c.ie()<11){try{n.createStyleSheet().cssText=e}catch(o){if(n.styleSheets[0])n.styleSheets[0].cssText+=e}}else{var u=n.createElement("style");u.type="text/css";u.textContent=e;n.getElementsByTagName("head")[0].appendChild(u)}}function N(){var t=n.documentElement&&n.compatMode=="CSS1Compat"?n.documentElement:n.body;return{scrollTop:t.scrollTop||n.body.scrollTop,scrollLeft:t.scrollLeft||n.body.scrollLeft,width:e.innerWidth?e.innerWidth:t.clientWidth,height:e.innerHeight?e.innerHeight:t.clientHeight}}function C(e){a.isTruthy(e,"element not specified");var t=0,n=0;do{t+=e.offsetLeft;n+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:n}}var h={};var k={containsCss:y,addCss:b,removeCss:w,getByClass:E,getStyle:S,setStyle:x,getAttr:d,getBoolAttr:v,getProp:m,html:g,addCssRules:T,getViewportInfo:N,getPosition:C,ready:l};o.exports=k},null);h("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent_DEPRECATED","wrapFunction"],function(t,n,s,o,u,a,f,l,c,h,d,v){function y(e){var t=e._originalError;delete e._originalError;h.log("jssdk_error",{appId:c.getClientID(),error:e.name||e.message,extra:e});throw t}function b(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e;if(d.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(e.stack)){t.script=RegExp.$1;t.line=parseInt(RegExp.$2,10)}for(var n in t)t[n]==null&&delete t[n];return t}function w(e,t){return function(){if(!m)return e.apply(this,arguments);try{g=t;return e.apply(this,arguments)}catch(n){if(n instanceof l)throw n;var r=b(n);r.entry=t;var i=p(Array.prototype.slice.call(arguments),"map",true,function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});r.args=p("JSON","stringify",false,i).substring(0,200);y(r)}finally{g=""}}}function E(t){if(!t.__wrapper)t.__wrapper=function(){try{return t.apply(this,arguments)}catch(n){e.setTimeout(function(){throw n},0);return false}};return t.__wrapper}function S(e,t){return function(n,r){var i=t+":"+(g||"[global]")+":"+(n.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return e(v(n,"entry",i),r)}}var m=f("error_handling",false),g="";if(m){r=S(r,"setTimeout");i=S(i,"setInterval");v.setWrapper(w,"entry")}var x={guard:w,unguard:E};u.exports=x},null);h("sdk.Insights",["sdk.Impressions"],function(e,t,n,r,i,s,o){var u={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(e,t,n){var r={source:"jssdk",type:e,category:t,payload:n};o.log(113,r)},impression:o.impression};i.exports=u},null);h("FB",["sdk.Auth","JSSDKCssConfig","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","JSSDKConfig"],function(t,r,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w,E,S){function A(e,t,n,r){var i;if(/^_/.test(n)){i="hide"}else if(T&&!T[t])i=N;switch(i){case"hide":return;case"stub":return function(){b.warn("The method FB.%s has been removed from the JS SDK.",t)};break;default:return d.guard(function(){function n(e){if(p("Array","isArray",false,e))return p(e,"map",true,n);if(e&&typeof e==="object"&&e.__wrapped)return e.__wrapped;return typeof e==="function"&&/^function/.test(e.toString())?d.unguard(e):e}if(i==="warn"){b.warn("The method FB.%s is not officially supported by "+"Facebook and access to it will soon be removed.",t);if(!C.hasOwnProperty(t)){y.log(y.TYPE.WARNING,y.CATEGORY.DEPRECATED,"FB."+t);E.log("jssdk_error",{appId:w.getClientID(),error:"Private method used",extra:{args:t}});C[t]=true}}var s=p(Array.prototype.slice.call(arguments),"map",true,n),o=e.apply(r,s),u,a=true;if(o&&typeof o==="object"){var f=Function();f.prototype=o;u=new f;u.__wrapped=o;for(var l in o){var c=o[l];if(typeof c!=="function"||l==="constructor")continue;a=false;u[l]=A(c,t+":"+l,l,o)}}if(!a)return u;return a?o:u},t)}}function O(e,t){var n=e?l(x,e,true):x;p(p("Object","keys",false,t),"forEach",true,function(r){var i=t[r];if(typeof i==="function"){var s=(e?e+".":"")+r,o=A(i,s,r,t);if(o)n[r]=o}else if(typeof i==="object"){s=(e?e+".":"")+r;if(T&&T[s])n[r]=i}})}var x,T,N=l(S,"api.mode"),C={};x=e.FB={};var k={};b.level=1;g.setPrefix("FB.__globalCallbacks");var L=n.createElement("div");m.setRoot(L);c(function(){b.info("domReady");v.appendHidden(L);if(f.rules)h.addCssRules(f.rules,f.components)});w.subscribe("AccessToken.change",function(e){if(!e&&w.getLoginStatus()==="connected")a.getLoginStatus(null,true)});if(l(S,"api.whitelist.length")){T={};p(S.api.whitelist,"forEach",true,function(e){T[e]=1})}w.setSecure(function(){var t=/iframe_canvas|app_runner/.test(e.name),n=/dialog/.test(e.name);if(location.protocol=="https:"&&(e==top||!(t||n)))return true;if(/_fb_https?/.test(e.name))return p(e.name,"indexOf",true,"_fb_https")!=-1}());p("Object","assign",false,k,{provide:O});o.exports=k},null);h("ArgumentError",["ManagedError"],function(e,t,n,r,i,s,o){function u(e,t){o.prototype.constructor.apply(this,arguments)}u.prototype=new o;u.prototype.constructor=u;i.exports=u},null);h("CORSRequest",["wrapFunction","QueryString"],function(e,n,r,i,s,o,u,a){function f(e,n){if(!t.XMLHttpRequest)return null;var r=new XMLHttpRequest,i=function(){};if("withCredentials"in r){r.open(e,n,true);r.setRequestHeader("Content-type","application/x-www-form-urlencoded")}else if(t.XDomainRequest){r=new XDomainRequest;try{r.open(e,n);r.onprogress=r.ontimeout=i}catch(s){return null}}else return null;var o={send:function(e){r.send(e)}},a=u(function(){a=i;if("onload"in o)o.onload(r)},"entry","XMLHttpRequest:load"),f=u(function(){f=i;if("onerror"in o)o.onerror(r)},"entry","XMLHttpRequest:error");r.onload=function(){a()};r.onerror=function(){f()};r.onreadystatechange=function(){if(r.readyState==4)if(r.status==200){a()}else f()};return o}function l(e,t,n,r){n.suppress_http_code=1;var i=a.encode(n);if(t!="post"){e=a.appendToUrl(e,i);i=""}var s=f(t,e);if(!s)return false;s.onload=function(e){r(p("JSON","parse",false,e.responseText))};s.onerror=function(e){if(e.responseText){r(p("JSON","parse",false,e.responseText))}else r({error:{type:"http",message:"unknown error",status:e.status}})};s.send(i);return true}var c={execute:l};s.exports=c},null);h("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(e,t,n,r,i,s,o,u,a,f,l){function m(){if(!d)throw new Error("swfUrl has not been set");var e=a.create(function(){c.start(function(e){var t=v.execute(e.method,e.url,e.body);if(!t)throw new Error("Could create request");h[t]=e.callback})}),t=a.create(function(e,t,n){var r;try{r=p("JSON","parse",false,decodeURIComponent(n))}catch(i){r={error:{type:"SyntaxError",message:i.message,status:t,raw:n}}}h[e](r);delete h[e]});v=u.embed(d,o.getRoot(),null,{log:false,initCallback:e,requestCallback:t})}function g(e,t,n,r){n.suppress_http_code=1;if(!n.method)n.method=t;var i=f.encode(n);if(t==="get"&&e.length+i.length<2e3){e=f.appendToUrl(e,i);i=""}else t="post";if(!c){if(!u.isAvailable())return false;c=new l;m()}c.enqueue({method:t,url:e,body:i,callback:r});return true}var c,h={},d,v;var y={setSwfUrl:function(e){d=e},execute:g};i.exports=y},null);h("flattenObject",[],function(e,t,n,r,i,s){function o(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(null===r||undefined===r){continue}else if(typeof r=="string"){t[n]=r}else t[n]=p("JSON","stringify",false,r)}return t}i.exports=o},null);h("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(e,t,i,s,o,u,a,f,l){function c(e,t,i,s){var o=n.createElement("script"),u=function(e){u=function(){};f.remove(i.callback);s(e);o.parentNode.removeChild(o)};i.callback=f.create(u);if(!i.method)i.method=t;e=l.appendToUrl(e,i);if(e.length>2e3){f.remove(i.callback);return false}o.onerror=function(){u({error:{type:"http",message:"unknown error"}})};var c=function(){r(function(){u({error:{type:"http",message:"unknown error"}})},0)};if(o.addEventListener){o.addEventListener("load",c,false)}else o.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState))c()};o.src=e;a.getRoot().appendChild(o);return true}var h={execute:c};o.exports=h},null);h("ApiClient",["ArgumentError","Assert","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","ObservableMixin","sprintf","sdk.URI","UrlMap","ApiClientConfig","invariant"],function(e,t,n,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w){function M(e,t,n,r){if(x)n=p("Object","assign",false,{},x,n);n.access_token=n.access_token||E;n.pretty=n.pretty||0;n=c(n);var i={jsonp:h,cors:f,flash:l},s;if(n.transport){s=[n.transport];delete n.transport}else s=["jsonp","cors","flash"];for(var o=0;o<s.length;o++){var u=i[s[o]],a=p("Object","assign",false,{},n);if(u.execute(e,t,a,r))return}r({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function _(e,t,n,r,i){F.inform("request.complete",t,n,r,i);if(e)e(i)}function D(e){var t=e.shift();a.isString(t,"Invalid path");if(!/^https?/.test(t)&&t.charAt(0)!=="/")t="/"+t;var n,r={};try{n=new g(t)}catch(i){throw new u(i.message,i)}p(e,"forEach",true,function(e){return r[typeof e]=e});var s=(r.string||"get").toLowerCase();a.isTrue(T.hasOwnProperty(s),m("Invalid method passed to ApiClient: %s",s));var o=r["function"];if(!o)d.warn("No callback passed to the ApiClient");if(r.object)n.addQueryData(r.object);var f=n.getQueryData();f.method=s;return{uri:n,callback:o,params:f}}function P(){var e=Array.prototype.slice.call(arguments,0),t=D(e),n=t.uri,r=t.callback,i=t.params,s=i.method,o=n.getProtocol()&&n.getDomain()?n.setQueryData({}).toString():y.resolve("graph")+n.getPath();M(o,s=="get"?"get":"post",i,p(_,"bind",true,null,r,n.getPath(),s,i))}function H(){var e=Array.prototype.slice.call(arguments,0),t=D(e),n=t.uri,i=t.callback,s=t.params,o=s.method,u={method:o,relative_url:n.removeQueryData("method").toString()};if(o.toLowerCase()=="post"){u.body=n.getQueryData();u.relative_url=n.setQueryData({}).toString()}C.push(u);k.push(i);if(C.length==A){B()}else if(!L)L=r(B,0)}function B(){w(C.length>0);var e=C,t=k;C=[];k=[];L=null;P("/","POST",{batch:p("JSON","stringify",false,e),include_headers:false,batch_app_id:S||O},function(e){if(p("Array","isArray",false,e)){p(e,"forEach",true,function(e,n){t[n](p("JSON","parse",false,e.body))})}else p(t,"forEach",true,function(e){return e({error:{message:"Fatal: batch call failed."}})})})}function j(e,t){a.isObject(e);a.isString(e.method,"method missing");if(!t)d.warn("No callback passed to the ApiClient");var n=e.method.toLowerCase().replace(".","_");e.format="json-strings";e.api_key=S;var r=n in N?"api_read":"api",i=y.resolve(r)+"/restserver.php",s=p(_,"bind",true,null,t,"/restserver.php","get",e);M(i,"get",e,s)}var E,S,x,T={get:true,post:true,"delete":true,put:true},N={fql_query:true,fql_multiquery:true,friends_get:true,notifications_get:true,stream_get:true,users_getinfo:true},C=[],k=[],L=null,A=50,O=105440539523;var F=p("Object","assign",false,new v,{setAccessToken:function(e){E=e},setClientID:function(e){S=e},setDefaultParams:function(e){x=e},rest:j,graph:P,scheduleBatchCall:H});l.setSwfUrl(b.FlashRequest.swfUrl);s.exports=F},null);h("sdk.PlatformVersioning",["sdk.Runtime","ManagedError"],function(e,t,n,r,i,s,o,u){var a=/^v\d+\.\d\d?$/,f={REGEX:a,assertVersionIsSet:function(){if(!o.getVersion())throw new u("init not called with valid version")},assertValidVersion:function(e){if(!a.test(e))throw new u("invalid version specified")}};i.exports=f},null);h("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.URI"],function(e,t,n,r,i,s,o,u,a,f){function c(e){if(typeof e==="string"){if(a.getIsVersioned()){u.assertVersionIsSet();if(!/https?/.test(e)&&e.charAt(0)!=="/")e="/"+e;e=f(e).setDomain(null).setProtocol(null).toString();if(!u.REGEX.test(e.substring(1,p(e,"indexOf",true,"/",1))))e="/"+a.getVersion()+e;var t=[e].concat(Array.prototype.slice.call(arguments,1));o.graph.apply(o,t)}else o.graph.apply(o,arguments)}else o.rest.apply(o,arguments)}var l;a.subscribe("ClientID.change",function(e){o.setClientID(e)});a.subscribe("AccessToken.change",function(e){l=e;o.setAccessToken(e)});o.setDefaultParams({sdk:"joey"});o.subscribe("request.complete",function(e,t,n,r){var i=false;if(r&&typeof r=="object")if(r.error){if(r.error=="invalid_token"||r.error.type=="OAuthException"&&r.error.code==190)i=true}else if(r.error_code)if(r.error_code=="190")i=true;if(i&&l===a.getAccessToken())a.setAccessToken(null)});o.subscribe("request.complete",function(e,t,n,r){if((e=="/me/permissions"&&t==="delete"||e=="/restserver.php"&&n.method=="Auth.revokeAuthorization")&&r===true)a.setAccessToken(null)});i.exports=c},null);h("legacy:fb.api",["FB","sdk.api"],function(e,t,n,r,i,s,o,u){o.provide("",{api:u})},3);h("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,n,r,i,s,o){function u(e){o.remote.getPageInfo(function(t){e(t.result)})}function a(e,t){o.remote.scrollTo({x:e||0,y:t||0})}o.stub("getPageInfo");o.stub("scrollTo");var f={getPageInfo:u,scrollTo:a};i.exports=f},null);h("sdk.Intl",["Log"],function(e,t,n,r,i,s,o){function a(e){if(typeof e!="string")return false;return!!e.match(new RegExp(u+"["+')"'+"'"+"»"+"༻"+"༽"+"’"+"”"+"›"+"〉"+"》"+"」"+"』"+"】"+"〕"+"〗"+"〙"+"〛"+"〞"+"〟"+"﴿"+"＇"+"）"+"］"+"\\s"+"]*$"))}function f(e,t){if(t!==undefined)if(typeof t!="object"){o.error("The second arg to FB.Intl.tx() must be an Object for "+"FB.Intl.tx("+e+", ...)")}else{var n;for(var r in t)if(t.hasOwnProperty(r)){if(a(t[r])){n=new RegExp("\\{"+r+"\\}"+u+"*","g")}else n=new RegExp("\\{"+r+"\\}","g");e=e.replace(n,t[r])}}return e}function l(){throw new Error("Placeholder function")}var u="["+".!?"+"。"+"！"+"？"+"।"+"…"+"ຯ"+"᠁"+"ฯ"+"．"+"]";l._=f;i.exports={tx:l}},null);h("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent_DEPRECATED","sdk.feature"],function(t,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b){function N(){if(b("dialog_resize_refactor")){var e=c.getViewportInfo();if(e.height&&e.width)return{width:Math.min(e.width,w),height:Math.min(e.height,E)}}return null}var w=590,E=500,S=240,x=575,T=function(){var e;if(b("dialog_resize_refactor")){var t=N();e=t&&(t.height>=w||t.width>=E)}else e=!!y.ipad();T=function(){return e};return e};var C=g.extend({constructor:function(t,n){this.parent();this.id=t;this.display=n;this._e2e={};if(!k._dialogs){k._dialogs={};k._addOrientationHandler()}k._dialogs[t]=this;this.trackEvent("init")},trackEvent:function(e,t){if(this._e2e[e])return this;this._e2e[e]=t||p("Date","now",false);if(e=="close")this.inform("e2e:end",this._e2e);return this},trackEvents:function(e){if(typeof e==="string")e=p("JSON","parse",false,e);for(var t in e)if(e.hasOwnProperty(t))this.trackEvent(t,e[t]);return this}},v),k={newInstance:function(e,t){return new C(e,t)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(e){return k._dialogs[e]},_findRoot:function(e){while(e){if(c.containsCss(e,"fb_dialog"))return e;e=e.parentNode}},_createWWWLoader:function(e){e=e?e:460;return k.create({content:'<div class="dialog_title">'+'  <a id="fb_dialog_loader_close">'+'    <div class="fb_dialog_close_icon"></div>'+"  </a>"+"  <span>Facebook</span>"+'  <div style="clear:both;"></div>'+"</div>"+'<div class="dialog_content"></div>'+'<div class="dialog_footer"></div>',width:e})},_createMobileLoader:function(){var e=y.nativeApp()?"":"<table>"+"  <tbody>"+"    <tr>"+'      <td class="header_left">'+'        <label class="touchable_button">'+'          <input type="submit" value="'+d.tx._("Cancel")+'"'+'            id="fb_dialog_loader_close"/>'+"        </label>"+"      </td>"+'      <td class="header_center">'+"        <div>"+d.tx._("Loading...")+"</div>"+"      </td>"+'      <td class="header_right">'+"      </td>"+"    </tr>"+"  </tbody>"+"</table>";return k.create({classes:"loading"+(T()?" centered":""),content:'<div class="dialog_header">'+e+"</div>"})},_restoreBodyPosition:function(){if(!T()){var e=n.getElementsByTagName("body")[0];c.removeCss(e,"fb_hidden")}},_showTabletOverlay:function(){if(!T())return;if(!k._overlayEl){k._overlayEl=n.createElement("div");k._overlayEl.setAttribute("id","fb_dialog_ipad_overlay");l.append(k._overlayEl,null)}k._overlayEl.className=""},_hideTabletOverlay:function(){if(T())k._overlayEl.className="hidden"},showLoader:function(e,t){k._showTabletOverlay();if(!k._loaderEl)k._loaderEl=k._findRoot(y.mobile()?k._createMobileLoader():k._createWWWLoader(t));if(!e)e=function(){};var r=n.getElementById("fb_dialog_loader_close");c.removeCss(r,"fb_hidden");r.onclick=function(){k._hideLoader();k._restoreBodyPosition();k._hideTabletOverlay();e()};var i=n.getElementById("fb_dialog_ipad_overlay");if(i)i.ontouchstart=r.onclick;k._makeActive(k._loaderEl)},_hideLoader:function(){if(k._loaderEl&&k._loaderEl==k._active)k._loaderEl.style.top="-10000px"},_makeActive:function(e){k._setDialogSizes();k._lowerActive();k._active=e;if(m.isEnvironment(m.ENVIRONMENTS.CANVAS))f.getPageInfo(function(e){k._centerActive(e)});k._centerActive()},_lowerActive:function(){if(!k._active)return;k._active.style.top="-10000px";k._active=null},_removeStacked:function(e){k._stack=p(k._stack,"filter",true,function(t){return t!=e})},_centerActive:function(e){var t=k._active;if(!t)return;var r=c.getViewportInfo(),i=parseInt(t.offsetWidth,10),s=parseInt(t.offsetHeight,10),o=r.scrollLeft+(r.width-i)/2,u=(r.height-s)/2.5;if(o<u)u=o;var a=r.height-s-u,f=(r.height-s)/2;if(e)f=e.scrollTop-e.offsetTop+(e.clientHeight-s)/2;if(f<u){f=u}else if(f>a)f=a;f+=r.scrollTop;if(y.mobile()){var l=100;if(T()){l+=(r.height-s)/2}else{var h=n.getElementsByTagName("body")[0];c.addCss(h,"fb_hidden");if(b("dialog_resize_refactor"))h.style.width="auto";f=1e4}var p=c.getByClass("fb_dialog_padding",t);if(p.length)p[0].style.height=l+"px"}t.style.left=(o>0?o:0)+"px";t.style.top=(f>0?f:0)+"px"},_setDialogSizes:function(){if(!y.mobile()||T())return;for(var e in k._dialogs)if(k._dialogs.hasOwnProperty(e)){var t=n.getElementById(e);if(t){t.style.width=k.getDefaultSize().width+"px";t.style.height=k.getDefaultSize().height+"px"}}},getDefaultSize:function(){if(y.mobile()){var t=N();if(t)return t;if(y.ipad())return{width:E,height:w};if(y.android()){return{width:screen.availWidth,height:screen.availHeight}}else{var n=e.innerWidth,r=e.innerHeight,i=n/r>1.2;return{width:n,height:Math.max(r,i?screen.width:screen.height)}}}return{width:x,height:S}},_handleOrientationChange:function(e){var t=b("dialog_resize_refactor",false)?c.getViewportInfo().width:screen.availWidth;if(y.android()&&t==k._availScreenWidth){r(k._handleOrientationChange,50);return}k._availScreenWidth=t;if(T()){k._centerActive()}else{var i=k.getDefaultSize().width;for(var s in k._dialogs)if(k._dialogs.hasOwnProperty(s)){var o=n.getElementById(s);if(o)o.style.width=i+"px"}}},_addOrientationHandler:function(){if(!y.mobile())return;var t="onorientationchange"in e?"orientationchange":"resize";k._availScreenWidth=b("dialog_resize_refactor",false)?c.getViewportInfo().width:screen.availWidth;h.add(e,t,k._handleOrientationChange)},create:function(e){e=e||{};var t=n.createElement("div"),r=n.createElement("div"),i="fb_dialog";if(e.closeIcon&&e.onClose){var s=n.createElement("a");s.className="fb_dialog_close_icon";s.onclick=e.onClose;t.appendChild(s)}i+=" "+(e.classes||"");if(y.ie()){i+=" fb_dialog_legacy";p(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",true,function(e){var r=n.createElement("span");r.className="fb_dialog_"+e;t.appendChild(r)})}else i+=y.mobile()?" fb_dialog_mobile":" fb_dialog_advanced";if(e.content)l.append(e.content,r);t.className=i;var o=parseInt(e.width,10);if(!isNaN(o))t.style.width=o+"px";r.className="fb_dialog_content";t.appendChild(r);if(y.mobile()){var u=n.createElement("div");u.className="fb_dialog_padding";t.appendChild(u)}l.append(t);if(e.visible)k.show(t);return r},show:function(e){var t=k._findRoot(e);if(t){k._removeStacked(t);k._hideLoader();k._makeActive(t);k._stack.push(t);if("fbCallID"in e)k.get(e.fbCallID).inform("iframe_show").trackEvent("show")}},hide:function(e){var t=k._findRoot(e);k._hideLoader();if(t==k._active){k._lowerActive();k._restoreBodyPosition();k._hideTabletOverlay();if("fbCallID"in e)k.get(e.fbCallID).inform("iframe_hide").trackEvent("hide")}},remove:function(e){e=k._findRoot(e);if(e){var t=k._active==e;k._removeStacked(e);if(t){k._hideLoader();if(k._stack.length>0){k.show(k._stack.pop())}else{k._lowerActive();k._restoreBodyPosition();k._hideTabletOverlay()}}else if(k._active===null&&k._stack.length>0)k.show(k._stack.pop());r(function(){e.parentNode.removeChild(e)},3e3)}},isActive:function(e){var t=k._findRoot(e);return t&&t===k._active}};u.exports=k},null);h("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(e,t,n,r,i,s,o,u,a,f){var l={_allowedRecipients:{},_useFrictionless:false,_updateRecipients:function(){l._allowedRecipients={};u("/me/apprequestformerrecipients",function(e){if(!e||e.error)return;p(e.data,"forEach",true,function(e){l._allowedRecipients[e.recipient_id]=true})})},init:function(){l._useFrictionless=true;o.getLoginStatus(function(e){if(e.status=="connected")l._updateRecipients()});a.subscribe("auth.login",function(e){if(e.authResponse)l._updateRecipients()})},_processRequestResponse:function(e,t){return function(n){var r=n&&n.updated_frictionless;if(l._useFrictionless&&r)l._updateRecipients();if(n){if(!t&&n.frictionless){f._hideLoader();f._restoreBodyPosition();f._hideIPadOverlay()}delete n.frictionless;delete n.updated_frictionless}e&&e(n)}},isAllowed:function(e){if(!e)return false;if(typeof e==="number")return e in l._allowedRecipients;if(typeof e==="string")e=e.split(",");e=p(e,"map",true,function(e){return p(String(e),"trim",true)});var t=true,n=false;p(e,"forEach",true,function(e){t=t&&e in l._allowedRecipients;n=true});return t&&n}};a.subscribe("init:post",function(e){if(e.frictionlessRequests)l.init()});i.exports=l},null);h("sdk.Native",["Log","UserAgent_DEPRECATED"],function(t,n,r,i,s,o,u,a){var f="fbNativeReady",l={onready:function(t){if(!a.nativeApp()){u.error("FB.Native.onready only works when the page is rendered "+"in a WebView of the native Facebook app. Test if this is the "+"case calling FB.UA.nativeApp()");return}if(e.__fbNative&&!this.nativeReady)p("Object","assign",false,this,e.__fbNative);if(this.nativeReady){t()}else{var n=function(r){e.removeEventListener(f,n);this.onready(t)};e.addEventListener(f,n,false)}}};s.exports=l},null);h("resolveURI",[],function(t,r,i,s,o,u){function a(t){if(!t)return e.location.href;t=t.replace(/&/g,"&").replace(/"/g,"&quot;");var r=n.createElement("div");r.innerHTML='<a href="'+t+'"></a>';return r.firstChild.href}o.exports=a},null);h("sdk.UIServer",["sdk.Auth","sdk.Content","createObjectFrom","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","JSSDKConfig","UrlMap","UserAgent_DEPRECATED","sdk.XD"],function(t,s,u,a,f,l,c,h,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_){var D={transform:function(t){if(t.params.display==="touch"&&t.params.access_token&&e.postMessage){t.params.channel=H._xdChannelHandler(t.id,"parent");if(!M.nativeApp())t.params.in_iframe=1;return t}else return H.genericTransform(t)},getXdRelation:function(t){var n=t.display;if(n==="touch"&&e.postMessage&&t.in_iframe)return"parent";return H.getXdRelation(t)}},P={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(t){if(!t.params.u)t.params.u=e.location.toString();t.params.display="popup";return t}},apprequests:{transform:function(e){e=D.transform(e);e.params.frictionless=b&&b._useFrictionless;if(e.params.frictionless){if(b.isAllowed(e.params.to)){e.params.display="iframe";e.params.in_iframe=true;e.hideLoader=true}e.cb=b._processRequestResponse(e.cb,e.hideLoader)}e.closeIcon=false;return e},getXdRelation:D.getXdRelation},feed:D,"permissions.oauth":{url:"dialog/oauth",size:{width:M.mobile()?null:475,height:M.mobile()?null:183},transform:function(e){if(!L.getClientID()){x.error("FB.login() called before FB.init().");return}if(c.getAuthResponse()&&!e.params.scope&&!e.params.auth_type){x.error("FB.login() called when user is already connected.");e.cb&&e.cb({status:L.getLoginStatus(),authResponse:c.getAuthResponse()});return}var t=e.cb,n=e.id;delete e.cb;var r=p("Object","keys",false,p("Object","assign",false,e.params.response_type?d(e.params.response_type.split(",")):{},{token:true,signed_request:true})).join(",");if(e.params.display==="async"){p("Object","assign",false,e.params,{client_id:L.getClientID(),origin:w(),response_type:r,domain:location.hostname});e.cb=c.xdResponseWrapper(t,c.getAuthResponse(),"permissions.oauth")}else p("Object","assign",false,e.params,{client_id:L.getClientID(),redirect_uri:C(H.xdHandler(t,n,"opener",c.getAuthResponse(),"permissions.oauth")),origin:w(),response_type:r,domain:location.hostname});return e}},"auth.logout":{url:"logout.php",transform:function(e){if(!L.getClientID()){x.error("FB.logout() called before calling FB.init().")}else if(!c.getAuthResponse()){x.error("FB.logout() called without an access token.")}else{e.params.next=H.xdHandler(e.cb,e.id,"parent",c.getAuthResponse(),"logout");return e}}},"login.status":{url:"dialog/oauth",transform:function(e){var t=e.cb,n=e.id;delete e.cb;p("Object","assign",false,e.params,{client_id:L.getClientID(),redirect_uri:H.xdHandler(t,n,"parent",c.getAuthResponse(),"login_status"),origin:w(),response_type:"token,signed_request,code",domain:location.hostname});return e}}},H={Methods:P,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(e){if(e.params.display=="dialog"||e.params.display=="iframe")p("Object","assign",false,e.params,{display:"iframe",channel:H._xdChannelHandler(e.id,"parent.parent")},true);return e},checkOauthDisplay:function(e){var t=e.scope||e.perms||L.getScope();if(!t)return e.display;var n=t.split(/\s|,/g);for(var r=0;r<n.length;r++)if(!A.initSitevars.iframePermissions[p(n[r],"trim",true)])return"popup";return e.display},prepareCall:function(e,t){var n=e.method.toLowerCase(),r=H.Methods.hasOwnProperty(n)?p("Object","assign",false,{},H.Methods[n]):{},i=E(),s=L.getSecure()||n!=="auth.status"&&n!="login.status";p("Object","assign",false,e,{app_id:L.getClientID(),locale:L.getLocale(),sdk:"joey",access_token:s&&L.getAccessToken()||undefined});e.display=H.getDisplayMode(r,e);if(!r.url)r.url="dialog/"+n;if((r.url=="dialog/oauth"||r.url=="dialog/permissions.request")&&(e.display=="iframe"||e.display=="touch"&&e.in_iframe))e.display=H.checkOauthDisplay(e);if(L.getIsVersioned()&&r.url.substring(0,7)==="dialog/")r.url=e.version+"/"+r.url;var o={cb:t,id:i,size:r.size||H.getDefaultSize(),url:O.resolve(e.display=="touch"?"m":"www",s)+"/"+r.url,params:e,name:n,dialog:v.newInstance(i,e.display)},u=r.transform?r.transform:H.genericTransform;if(u){o=u(o);if(!o)return}var a=r.getXdRelation||H.getXdRelation,f=a(o.params);if(!(o.id in H._defaultCb)&&!("next"in o.params)&&!("redirect_uri"in o.params))o.params.next=H._xdResult(o.cb,o.id,f,true);if(f==="parent")p("Object","assign",false,o.params,{channel_url:H._xdChannelHandler(i,"parent.parent")},true);o=H.prepareParams(o);return o},prepareParams:function(e){var t=e.params.method;if(e.params.display!=="async")delete e.params.method;e.params=y(e.params);var n=N.encode(e.params);if(!M.nativeApp()&&H.urlTooLongForIE(e.url+"?"+n)){e.post=true}else if(n)e.url+="?"+n;return e},urlTooLongForIE:function(e){return e.length>2e3},getDisplayMode:function(e,t){if(t.display==="hidden"||t.display==="none")return t.display;var n=L.isEnvironment(L.ENVIRONMENTS.CANVAS)||L.isEnvironment(L.ENVIRONMENTS.PAGETAB);if(n&&!t.display)return"async";if(M.mobile()||t.display==="touch")return"touch";if(!L.getAccessToken()&&(t.display=="iframe"||t.display=="dialog")&&!e.loggedOutIframe){x.error('"dialog" mode can only be used when the user is connected.');return"popup"}if(e.connectDisplay&&!n)return e.connectDisplay;return t.display||(L.getAccessToken()?"dialog":"popup")},getXdRelation:function(t){var n=t.display;if(n==="popup"||n==="touch")return"opener";if(n==="dialog"||n==="iframe"||n==="hidden"||n==="none")return"parent";if(n==="async")return"parent.frames["+e.name+"]"},popup:function(t){var r=typeof e.screenX!="undefined"?e.screenX:e.screenLeft,i=typeof e.screenY!="undefined"?e.screenY:e.screenTop,s=typeof e.outerWidth!="undefined"?e.outerWidth:n.documentElement.clientWidth,o=typeof e.outerHeight!="undefined"?e.outerHeight:n.documentElement.clientHeight-22,u=M.mobile()?null:t.size.width,a=M.mobile()?null:t.size.height,f=r<0?e.screen.width+r:r,l=parseInt(f+(s-u)/2,10),c=parseInt(i+(o-a)/2.5,10),p=[];if(u!==null)p.push("width="+u);if(a!==null)p.push("height="+a);p.push("left="+l);p.push("top="+c);p.push("scrollbars=1");if(t.name=="permissions.request"||t.name=="permissions.oauth")p.push("location=1,toolbar=0");p=p.join(",");var d;if(t.post){d=e.open("about:blank",t.id,p);if(d){H.setLoadedNode(t,d,"popup");h.submitToTarget({url:t.url,target:t.id,params:t.params})}}else{d=e.open(t.url,t.id,p);if(d)H.setLoadedNode(t,d,"popup")}if(!d)return;if(t.id in H._defaultCb)H._popupMonitor()},setLoadedNode:function(e,t,n){if(e.params&&e.params.display!="popup")t.fbCallID=e.id;t={node:t,type:n,fbCallID:e.id};H._loadedNodes[e.id]=t},getLoadedNode:function(e){var t=typeof e=="object"?e.id:e,n=H._loadedNodes[t];return n?n.node:null},hidden:function(e){e.className="FB_UI_Hidden";e.root=h.appendHidden("");H._insertIframe(e)},iframe:function(e){e.className="FB_UI_Dialog";var t=function(){H._triggerDefault(e.id)};e.root=v.create({onClose:t,closeIcon:e.closeIcon===undefined?true:e.closeIcon,classes:M.ipad()?"centered":""});if(!e.hideLoader)v.showLoader(t,e.size.width);m.addCss(e.root,"fb_dialog_iframe");H._insertIframe(e)},touch:function(e){if(e.params&&e.params.in_iframe){if(e.ui_created){v.showLoader(function(){H._triggerDefault(e.id)},0)}else H.iframe(e)}else if(M.nativeApp()&&!e.ui_created){e.frame=e.id;T.onready(function(){H.setLoadedNode(e,T.open(e.url+"#cb="+e.frameName),"native")});H._popupMonitor()}else if(!e.ui_created)H.popup(e)},async:function(e){e.params.redirect_uri=location.protocol+"//"+location.host+location.pathname;delete e.params.access_token;k.remote.showDialog(e.params,function(t){var n=t.result;if(n&&n.e2e){var r=v.get(e.id);r.trackEvents(n.e2e);r.trackEvent("close");delete n.e2e}e.cb(n)})},getDefaultSize:function(){return v.getDefaultSize()},_insertIframe:function(e){H._loadedNodes[e.id]=false;var t=function(t){if(e.id in H._loadedNodes)H.setLoadedNode(e,t,"iframe")};if(e.post){S({url:"about:blank",root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,onInsert:t,onload:function(t){h.submitToTarget({url:e.url,target:t.name,params:e.params})}})}else S({url:e.url,root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,name:e.frameName,onInsert:t})},_handleResizeMessage:function(e,t){var n=H.getLoadedNode(e);if(!n)return;if(t.height)n.style.height=t.height+"px";if(t.width)n.style.width=t.width+"px";_.inform("resize.ack",t||{},"parent.frames["+n.name+"]");if(!v.isActive(n))v.show(n)},_triggerDefault:function(e){H._xdRecv({frame:e},H._defaultCb[e]||function(){})},_popupMonitor:function(){var e;for(var t in H._loadedNodes)if(H._loadedNodes.hasOwnProperty(t)&&t in H._defaultCb){var n=H._loadedNodes[t];if(n.type!="popup"&&n.type!="native")continue;var r=n.node;try{if(r.closed){H._triggerDefault(t)}else e=true}catch(s){}}if(e&&!H._popupInterval){H._popupInterval=i(H._popupMonitor,100)}else if(!e&&H._popupInterval){o(H._popupInterval);H._popupInterval=null}},_xdChannelHandler:function(e,t){return _.handler(function(t){var n=H.getLoadedNode(e);if(!n)return;if(t.type=="resize"){H._handleResizeMessage(e,t)}else if(t.type=="hide"){v.hide(n)}else if(t.type=="rendered"){var r=v._findRoot(n);v.show(r)}else if(t.type=="fireevent")g.fire(t.event)},t,true,null)},_xdNextHandler:function(e,t,n,r){if(r)H._defaultCb[t]=e;return _.handler(function(t){H._xdRecv(t,e)},n)+"&frame="+t},_xdRecv:function(t,n){var i=H.getLoadedNode(t.frame);if(i)if(i.close){try{i.close();if(/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&RegExp.$1!=="5")e.focus();H._popupCount--}catch(s){}}else if(m.containsCss(i,"FB_UI_Hidden")){r(function(){i.parentNode.parentNode.removeChild(i.parentNode)},3e3)}else if(m.containsCss(i,"FB_UI_Dialog"))v.remove(i);delete H._loadedNodes[t.frame];delete H._defaultCb[t.frame];if(t.e2e){var o=v.get(t.frame);o.trackEvents(t.e2e);o.trackEvent("close");delete t.e2e}n(t)},_xdResult:function(e,t,n,r){return H._xdNextHandler(function(t){e&&e(t.result&&t.result!=H._resultToken&&p("JSON","parse",false,t.result))},t,n,r)+"&result="+encodeURIComponent(H._resultToken)},xdHandler:function(e,t,n,r,i){return H._xdNextHandler(c.xdResponseWrapper(e,r,i),t,n,true)}};k.stub("showDialog");f.exports=H},null);h("sdk.ui",["Assert","sdk.Impressions","Log","sdk.PlatformVersioning","sdk.Runtime","sdk.UIServer","sdk.feature"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function d(e,t){o.isObject(e);o.maybeFunction(t);if(l.getIsVersioned()){f.assertVersionIsSet();if(e.version){f.assertValidVersion(e.version)}else e.version=l.getVersion()}e=p("Object","assign",false,{},e);if(!e.method){a.error('"method" is a required parameter for FB.ui().');return null}if(e.method=="pay.prompt")e.method="pay";var n=e.method;if(e.redirect_uri){a.warn("When using FB.ui, you should not specify a redirect_uri.");delete e.redirect_uri}if((n=="permissions.request"||n=="permissions.oauth")&&(e.display=="iframe"||e.display=="dialog"))e.display=c.checkOauthDisplay(e);var r=h("e2e_tracking",true);if(r)e.e2e={};var i=c.prepareCall(e,t||function(){});if(!i)return null;var s=i.params.display;if(s==="dialog"){s="iframe"}else if(s==="none")s="hidden";var d=c[s];if(!d){a.error('"display" must be one of "popup", '+'"dialog", "iframe", "touch", "async", "hidden", or "none"');return null}if(r)i.dialog.subscribe("e2e:end",function(e){e.method=n;e.display=s;a.debug("e2e: %s",p("JSON","stringify",false,e));u.log(114,{payload:e})});d(i);return i.dialog}i.exports=d},null);h("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,d,v){l.provide("",{getLoginStatus:function(){return o.getLoginStatus.apply(o,arguments)},getAuthResponse:function(){return o.getAuthResponse()},getAccessToken:function(){return h.getAccessToken()||null},getUserID:function(){return h.getUserID()||h.getCookieUserID()},login:function(e,t){if(t&&t.perms&&!t.scope){t.scope=t.perms;delete t.perms;c.warn("OAuth2 specification states that 'perms' "+"should now be called 'scope'.  Please update.")}var n=h.isEnvironment(h.ENVIRONMENTS.CANVAS)||h.isEnvironment(h.ENVIRONMENTS.PAGETAB);v(a({method:"permissions.oauth",display:n?"async":"popup",domain:location.hostname},t||{}),e)},logout:function(e){v({method:"auth.logout",display:"hidden"},e)}});o.subscribe("logout",p(f.fire,"bind",true,f,"auth.logout"));o.subscribe("login",p(f.fire,"bind",true,f,"auth.login"));o.subscribe("authresponse.change",p(f.fire,"bind",true,f,"auth.authResponseChange"));o.subscribe("status.change",p(f.fire,"bind",true,f,"auth.statusChange"));f.subscribe("init:post",function(e){if(e.status)o.getLoginStatus();if(h.getClientID())if(e.authResponse){o.setAuthResponse(e.authResponse,"connected")}else if(h.getUseCookie()){var t=u.loadSignedRequest(),n;if(t){try{n=d.parse(t)}catch(r){u.clearSignedRequestCookie()}if(n&&n.user_id)h.setCookieUserID(n.user_id)}u.loadMeta()}})},3);h("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(t,n,r,s,u,a,f,l){function p(){var e=f.getWindow().document,t=e.body,n=e.documentElement,r=Math.max(t.offsetTop,0),i=Math.max(n.offsetTop,0),s=t.scrollHeight+r,o=t.offsetHeight+r,u=n.scrollHeight+i,a=n.offsetHeight+i;return Math.max(s,o,u,a)}function d(t){if(typeof t!="object")t={};var n=0,r=0;if(!t.height){t.height=p();n=16;r=4}if(!t.frame)t.frame=e.name||"iframe_canvas";if(h){var i=h.height,s=t.height-i;if(s<=r&&s>=-n)return false}h=t;l.remote.setSize(t);return true}function v(e,t){if(t===undefined&&typeof e==="number"){t=e;e=true}if(e||e===undefined){if(c===null)c=i(function(){d()},t||100);d()}else if(c!==null){o(c);c=null}}var c=null,h;l.stub("setSize");var m={setSize:d,setAutoGrow:v};u.exports=m},null);h("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,n,r,i,s,o){function u(e){o.local.navigate=function(t){e({path:t})};o.remote.setNavigationEnabled(true)}o.stub("setNavigationEnabled");var a={setUrlHandler:u};i.exports=a},null);h("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","UserAgent_DEPRECATED","sdk.Runtime","createArrayFrom"],function(t,n,i,s,o,u,a,f,l,c,h,d){function b(e){e._hideunity_savedstyle={};e._hideunity_savedstyle.left=e.style.left;e._hideunity_savedstyle.position=e.style.position;e._hideunity_savedstyle.width=e.style.width;e._hideunity_savedstyle.height=e.style.height;e.style.left="-10000px";e.style.position="absolute";e.style.width="1px";e.style.height="1px"}function w(e){if(e._hideunity_savedstyle){e.style.left=e._hideunity_savedstyle.left;e.style.position=e._hideunity_savedstyle.position;e.style.width=e._hideunity_savedstyle.width;e.style.height=e._hideunity_savedstyle.height}}function E(e){e._old_visibility=e.style.visibility;e.style.visibility="hidden"}function S(e){e.style.visibility=e._old_visibility||"";delete e._old_visibility}function x(e){var t=e.type?e.type.toLowerCase():null,n=t==="application/x-shockwave-flash"||e.classid&&e.classid.toUpperCase()==v;if(!n)return false;var r=/opaque|transparent/i;if(r.test(e.getAttribute("wmode")))return false;for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(/param/i.test(s.nodeName)&&/wmode/i.test(s.name)&&r.test(s.value))return false}return true}function T(e){var t=e.type?e.type.toLowerCase():null;return t==="application/vnd.unity"||e.classid&&e.classid.toUpperCase()==m}function N(t){var n=d(e.document.getElementsByTagName("object"));n=n.concat(d(e.document.getElementsByTagName("embed")));var i=false,s=false;p(n,"forEach",true,function(e){var n=x(e),o=y&&T(e);if(!n&&!o)return;i=i||n;s=s||o;var u=function(){if(t.state==="opened"){if(n){E(e)}else b(e)}else if(n){S(e)}else w(e)};if(g){l.info("Calling developer specified callback");var a={state:t.state,elem:e};g(a);r(u,200)}else u()});if(Math.random()<=1/1e3){var o={unity:s,flash:i};a(h.getClientID()+"/occludespopups","post",o)}}function C(){E();b()}function k(){S();w()}var v="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",m="CLSID:444785F1-DE89-4295-863A-D46C3A781394",g=null,y=!(c.osx()>=10.9&&(c.chrome()>=31||c.webkit()>=537.71||c.firefox()>=25));f.local.hidePluginObjects=function(){l.info("hidePluginObjects called");N({state:"opened"})};f.local.showPluginObjects=function(){l.info("showPluginObjects called");N({state:"closed"})};f.local.showFlashObjects=f.local.showPluginObjects;f.local.hideFlashObjects=f.local.hidePluginObjects;var L={_setHidePluginCallback:function(e){g=e},hidePluginElement:C,showPluginElement:k};o.exports=L},null);h("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(e,t,n,r,i,s,o,u){function a(e,t){var n={appId:u.getClientID(),time:p("Date","now",false),name:t},r=[n];if(e)r.push(function(t){e(t.result)});o.remote.logTtiMessage.apply(null,r)}function f(){a(null,"StartIframeAppTtiTimer")}function l(e){a(e,"StopIframeAppTtiTimer")}function c(e){a(e,"RecordIframeAppTti")}o.stub("logTtiMessage");var h={setDoneLoading:c,startTimer:f,stopTimer:l};i.exports=h},null);h("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.IframeHandling","sdk.Canvas.Navigation","sdk.Canvas.Plugin","sdk.RPC","sdk.Runtime","sdk.Canvas.Tti"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,d,v,m){f.provide("Canvas",{setSize:function(e){o.maybeObject(e,"Invalid argument");return l.setSize.apply(null,arguments)},setAutoGrow:function(){return l.setAutoGrow.apply(null,arguments)},getPageInfo:function(e){o.isFunction(e,"Invalid argument");return u.getPageInfo.apply(null,arguments)},scrollTo:function(e,t){o.maybeNumber(e,"Invalid argument");o.maybeNumber(t,"Invalid argument");return u.scrollTo.apply(null,arguments)},setDoneLoading:function(e){o.maybeFunction(e,"Invalid argument");return m.setDoneLoading.apply(null,arguments)},startTimer:function(){return m.startTimer.apply(null,arguments)},stopTimer:function(e){o.maybeFunction(e,"Invalid argument");return m.stopTimer.apply(null,arguments)},getHash:function(e){o.isFunction(e,"Invalid argument");return c.getHash.apply(null,arguments)},setHash:function(e){o.isString(e,"Invalid argument");return c.setHash.apply(null,arguments)},setUrlHandler:function(e){o.isFunction(e,"Invalid argument");return c.setUrlHandler.apply(null,arguments)}});d.local.fireEvent=p(a.fire,"bind",true,a);a.subscribe("init:post",function(e){if(v.isEnvironment(v.ENVIRONMENTS.CANVAS)){o.isTrue(!e.hideFlashCallback||!e.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback");h._setHidePluginCallback(e.hidePluginCallback||e.hideFlashCallback)}})},3);h("legacy:fb.canvas-legacy",["Assert","FB","Log","sdk.Canvas.Tti"],function(e,t,n,r,i,s,o,u,a,f){u.provide("CanvasInsights",{setDoneLoading:function(e){a.warn("Deprecated: use FB.Canvas.setDoneLoading");o.maybeFunction(e,"Invalid argument");return f.setDoneLoading.apply(null,arguments)}})},3);h("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","JSSDKCanvasPrefetcherConfig","sdk.Runtime"],function(e,t,i,s,o,u,a,f,l,c){function y(){var e={object:"data",link:"href",script:"src"};if(m==h.AUTOMATIC)p(p("Object","keys",false,e),"forEach",true,function(t){var r=e[t];p(f(n.getElementsByTagName(t)),"forEach",true,function(e){if(e[r])g.push(e[r])})});if(g.length===0)return;a(c.getClientID()+"/staticresources","post",{urls:p("JSON","stringify",false,g),is_https:location.protocol==="https:"});g=[]}function b(){if(!c.isEnvironment(c.ENVIRONMENTS.CANVAS)||!c.getClientID()||!d)return;if(Math.random()>1/d||v=="*"||~p(v,"indexOf",true,c.getClientID()))return;r(y,3e4)}function w(e){m=e}function E(e){g.push(e)}var h={AUTOMATIC:0,MANUAL:1},d=l.sampleRate,v=l.blacklist,m=h.AUTOMATIC,g=[];var S={COLLECT_AUTOMATIC:h.AUTOMATIC,COLLECT_MANUAL:h.MANUAL,addStaticResource:E,setCollectionMode:w,_maybeSample:b};o.exports=S},null);h("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(e,t,n,r,i,s,o,u,a,f){o.provide("Canvas.Prefetcher",u);a.subscribe("init:post",function(e){if(f.isEnvironment(f.ENVIRONMENTS.CANVAS))u._maybeSample()})},3);h("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(e,t,n,r,i,s,o,u,a,f,l){u.provide("",{share:function(e){a.error("share() has been deprecated. Please use FB.ui() instead.");f({display:"popup",method:"stream.share",u:e})},publish:function(e,t){a.error("publish() has been deprecated. Please use FB.ui() instead.");e=e||{};f(o({display:"popup",method:"stream.publish",preview:1},e||{}),t)},addFriend:function(e,t){a.error("addFriend() has been deprecated. Please use FB.ui() instead.");f({display:"popup",id:e,method:"friend.add"},t)}});l.Methods["auth.login"]=l.Methods["permissions.request"]},3);h("mergeArrays",[],function(e,t,n,r,i,s){function o(e,t){for(var n=0;n<t.length;n++)if(p(e,"indexOf",true,t[n])<0)e.push(t[n]);return e}i.exports=o},null);h("format",[],function(e,t,n,r,i,s){function o(e,t){t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){var r=t[Number(n)];return r===null||r===undefined?"":r.toString()})}i.exports=o},null);h("safeEval",[],function(t,n,r,i,s,o){function u(t,n){if(t===null||typeof t==="undefined")return;if(typeof t!=="string")return t;if(/^\w+$/.test(t)&&typeof e[t]==="function")return e[t].apply(null,n||[]);return Function('return eval("'+t.replace(/"/g,'\\"')+'");').apply(null,n||[])}s.exports=u},null);h("sdk.Waitable",["sdk.Model"],function(e,t,n,r,i,s,o){var u=o.extend({constructor:function(){this.parent({Value:undefined})},error:function(e){this.inform("error",e)},wait:function(e,t){if(t)this.subscribe("error",t);this.monitor("Value.change",p(function(){var t=this.getValue();if(t!==undefined){this.value=t;e(t);return true}},"bind",true,this))}});i.exports=u},null);h("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(e,t,n,r,i,s,o,u,a,f){function l(e){return p(e.split(","),"map",true,function(e){return p(e,"trim",true)})}function c(e){var t=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(e),n,r,i="unknown";if(t){r=t[2];if(/^(["'])(?:\\?.)*?\1$/.test(r)){r=u(r);i="index"}else if(/^\d+\.?\d*$/.test(r))i="index"}if(i=="index"){n={type:"index",key:t[1],value:r}}else n={type:"unknown",value:e};return n}function h(e){return typeof e==="string"?p("JSON","stringify",false,e):e}var d=1,v=f.extend({constructor:function(){this.parent();this.name="v_"+d++},hasDependency:function(e){if(arguments.length)this._hasDependency=e;return!!this._hasDependency},parse:function(e){var t=o.apply(null,e),n=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(t);this.fields=l(n[1]);this.table=n[2];this.where=c(n[3]);for(var r=1;r<e.length;r++)if(a.instanceOf(v,e[r]))e[r].hasDependency(true);return this},toFql:function(){var e="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":e+=this.where.value;break;case"index":e+=this.where.key+"="+h(this.where.value);break;case"in":if(this.where.value.length==1){e+=this.where.key+"="+h(this.where.value[0])}else e+=this.where.key+" in ("+p(this.where.value,"map",true,h).join(",")+")";break}return e},toString:function(){return"#"+this.name}});i.exports=v},null);h("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(e,t,n,i,s,o,u,a,f,l,c,h){var d={query:function(e,t){var n=(new l).parse(Array.prototype.slice.call(arguments));d.queue.push(n);d._waitToProcess();return n},waitOn:function(e,t){var n=new h,r=e.length;if(typeof t=="string"){var i=t;t=a.unguard(function(){return c(i)})}p(e,"forEach",true,function(i){i.monitor("Value.change",function(){var s=false;if(d._getValue(i)!==undefined){i.value=i.getValue();r--;s=true}if(r===0){var o=t(p(e,"map",true,d._getValue));n.setValue(o!==undefined?o:true)}return s})});return n},process:function(e){d._process(e)},_getValue:function(e){return e instanceof h?e.getValue():e},_selectByIndex:function(e,t,n,r){var i=new l;i.fields=e;i.table=t;i.where={type:"index",key:n,value:r};d.queue.push(i);d._waitToProcess();return i},_waitToProcess:function(){if(d.timer<0)d.timer=r(function(){d._process()},10)},_process:function(e){d.timer=-1;var t={},n=d.queue;if(!n.length)return;d.queue=[];for(var r=0;r<n.length;r++){var i=n[r];if(i.where.type=="index"&&!i.hasDependency()){d._mergeIndexQuery(i,t)}else t[i.name]=i}var s={q:{}};for(var o in t)if(t.hasOwnProperty(o))s.q[o]=t[o].toFql();if(e)s.access_token=e;u("/fql","GET",s,function(e){if(e.error){p(p("Object","keys",false,t),"forEach",true,function(n){t[n].error(new Error(e.error.message))})}else p(e.data,"forEach",true,function(e){t[e.name].setValue(e.fql_result_set)})})},_mergeIndexQuery:function(e,t){var n=e.where.key,r=e.where.value,i="index_"+e.table+"_"+n,s=t[i];if(!s){s=t[i]=new l;s.fields=[n];s.table=e.table;s.where={type:"in",key:n,value:[]}}f(s.fields,e.fields);f(s.where.value,[r]);s.wait(function(t){e.setValue(p(t,"filter",true,function(e){return e[n]==r}))})},timer:-1,queue:[]};s.exports=d},null);h("legacy:fb.data",["FB","sdk.Data"],function(e,t,n,r,i,s,o,u){o.provide("Data",u)},3);h("legacy:fb.event",["FB","sdk.Event","sdk.Runtime","sdk.Scribe","sdk.feature"],function(e,t,n,i,s,o,u,a,f,l,c){var h=[],d=null,v=c("event_subscriptions_log",false);u.provide("Event",{subscribe:function(e,t){if(v){h.push(e);if(!d)d=r(function(){l.log("jssdk_error",{appId:f.getClientID(),error:"EVENT_SUBSCRIPTIONS_LOG",extra:{line:0,name:"EVENT_SUBSCRIPTIONS_LOG",script:"N/A",stack:"N/A",message:h.sort().join(",")}});h.length=0;d=null},v)}return a.subscribe(e,t)},unsubscribe:p(a.unsubscribe,"bind",true,a)})},3);h("legacy:fb.event-legacy",["FB","sdk.Event"],function(e,t,n,r,i,s,o,u){o.provide("Event",{clear:p(u.clear,"bind",true,u),fire:p(u.fire,"bind",true,u),monitor:p(u.monitor,"bind",true,u)});o.provide("EventProvider",u)},3);h("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(e,t,n,r,i,s,o,u){o.provide("Frictionless",u)},3);h("sdk.init",["sdk.Cookie","sdk.ErrorHandling","sdk.Event","Log","ManagedError","sdk.PlatformVersioning","QueryString","sdk.Runtime","sdk.URI","createArrayFrom"],function(t,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b){function w(e){var t=typeof e=="number"&&e>0||typeof e=="string"&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(e);if(t)return e.toString();h.warn("Invalid App Id: Must be a number or numeric string representing "+"the application id.");return null}function E(e){if(g.getInitialized())h.warn("FB.init has already been called - this could indicate a problem");if(g.getIsVersioned()){if(Object.prototype.toString.call(e)!=="[object Object]")throw new d("Invalid argument");if(e.authResponse)h.warn("Setting authResponse is not supported");if(!e.version)e.version=y(location.href).getQueryData().sdk_version;v.assertValidVersion(e.version);g.setVersion(e.version)}else{if(/number|string/.test(typeof e)){h.warn("FB.init called with invalid parameters");e={apiKey:e}}e=p("Object","assign",false,{status:true},e||{})}var t=w(e.appId||e.apiKey);if(t!==null)g.setClientID(t);if("scope"in e)g.setScope(e.scope);if(e.cookie){g.setUseCookie(true);if(typeof e.cookie==="string")f.setDomain(e.cookie)}if(e.kidDirectedSite)g.setKidDirectedSite(true);g.setInitialized(true);c.fire("init:post",e)}r(function(){var t=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;p(b(n.getElementsByTagName("script")),"forEach",true,function(e){if(e.src){var n=t.exec(e.src);if(n){var r=m.decode(n[2]);for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];if(s=="0")r[i]=0}E(r)}}});if(e.fbAsyncInit&&!e.fbAsyncInit.hasRun){e.fbAsyncInit.hasRun=true;l.unguard(e.fbAsyncInit)()}},0);u.exports=E},null);h("legacy:fb.init",["FB","sdk.init"],function(e,t,n,r,i,s,o,u){o.provide("",{init:u})},3);h("legacy:fb.json",["FB","ManagedError"],function(e,t,n,r,i,s,o,u){o.provide("JSON",{stringify:function(e){try{return p("JSON","stringify",false,e)}catch(t){throw new u(t.message,t)}},parse:function(e){try{return p("JSON","parse",false,e)}catch(t){throw new u(t.message,t)}}})},3);h("legacy:fb.pay",["copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD","sdk.feature","FB"],function(t,n,r,i,s,o,u,a,f,l,c){n("FB");var h={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},d=function(e){return function(t){if(t&&typeof t.response==="string"){e(p("JSON","parse",false,t.response))}else if(typeof t==="object"){e(t)}else e(h)}};u(f.Methods,{pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(t){if(c("launch_payment_dialog_via_pac")){t.cb=d(t.cb);return t}else{t.cb=d(t.cb);if(!a.isEnvironment(a.ENVIRONMENTS.CANVAS)){t.params.order_info=p("JSON","stringify",false,t.params.order_info);return t}var n=l.handler(t.cb,"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n;t.params.uiserver=true;l.inform("Pay.Prompt",t.params)}}}})},3);h("legacy:fb.ua",["FB","UserAgent_DEPRECATED"],function(e,t,n,r,i,s,o,u){o.provide("UA",{nativeApp:u.nativeApp})},3);h("legacy:fb.ui",["FB","sdk.ui"],function(e,t,n,r,i,s,o,u){o.provide("",{ui:u})},3);h("runOnce",[],function(e,t,n,r,i,s){function o(e){var t,n;return function(){if(!t){t=true;n=e()}return n}}i.exports=o},null);h("XFBML",["Assert","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent_DEPRECATED"],function(e,t,i,s,o,u,a,f,l,c,h,d,v,m,g){function S(e,t){return e[t]+""}function x(e){return e.scopeName?e.scopeName+":"+e.nodeName:""}function T(e){return y[S(e,"nodeName").toLowerCase()]||y[x(e).toLowerCase()]}function N(e){var t=p(p(S(e,"className"),"trim",true).split(/\s+/),"filter",true,function(e){return b.hasOwnProperty(e)});if(t.length===0)return undefined;if(e.getAttribute("fb-xfbml-state")||!e.childNodes||e.childNodes.length===0||e.childNodes.length===1&&e.childNodes[0].nodeType===3||e.children.length===1&&S(e.children[0],"className")==="fb-xfbml-parse-ignore")return b[t[0]]}function C(e){var t={};p(f(e.attributes),"forEach",true,function(e){t[S(e,"name")]=S(e,"value")});return t}function k(e,t,r){var i=n.createElement("div");l.addCss(e,t+"-"+r);p(f(e.childNodes),"forEach",true,function(e){i.appendChild(e)});p(f(e.attributes),"forEach",true,function(e){i.setAttribute(e.name,e.value)});e.parentNode.replaceChild(i,e);return i}function L(e,t,n){a.isTrue(e&&e.nodeType&&e.nodeType===1&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()");a.isFunction(t,"Invalid callback passed to FB.XFBML.parse()");var i=++w;d.info("XFBML Parsing Start %s",i);var s=1,o=0,u=function(){s--;if(s===0){d.info("XFBML Parsing Finish %s, %s tags found",i,o);t();E.inform("render",i,o)}a.isTrue(s>=0,"onrender() has been called too many times")};p(f(e.getElementsByTagName("*")),"forEach",true,function(e){if(!n&&e.getAttribute("fb-xfbml-state"))return;if(e.nodeType!==1)return;var t=T(e)||N(e);if(!t)return;if(g.ie()<9&&e.scopeName)e=k(e,t.xmlns,t.localName);s++;o++;var r=new t.ctor(e,t.xmlns,t.localName,C(e));r.subscribe("render",m(function(){e.setAttribute("fb-xfbml-state","rendered");u()}));var i=function(){if(e.getAttribute("fb-xfbml-state")=="parsed"){E.subscribe("render.queue",i)}else{e.setAttribute("fb-xfbml-state","parsed");r.process()}};i()});E.inform("parse",i,o);var l=3e4;r(function(){if(s>0)d.warn("%s tags failed to render in %s ms",s,l)},l);u()}var y={},b={},w=0,E=new v;E.subscribe("render",function(){var e=E.getSubscribers("render.queue");E.clearSubscribers("render.queue");p(e,"forEach",true,function(e){e()})});p("Object","assign",false,E,{registerTag:function(e){var t=e.xmlns+":"+e.localName;a.isUndefined(y[t],t+" already registered");y[t]=e;b[e.xmlns+"-"+e.localName]=e},parse:function(e,t){L(e||n.body,t||function(){},true)},parseNew:function(){L(n.body,function(){},false)}});if(c("log_tag_count")){var A=function(e,t){E.unsubscribe("parse",A);r(p(h.log,"bind",true,null,102,{tag_count:t}),5e3)};E.subscribe("parse",A)}o.exports=E},null);h("PluginPipe",["sdk.Content","sdk.feature","guid","insertIframe","Miny","ObservableMixin","JSSDKPluginPipeConfig","sdk.Runtime","UrlMap","UserAgent_DEPRECATED","XFBML"],function(e,t,r,i,s,o,u,a,f,l,c,h,d,v,m,g,y){function S(){return!!(a("plugin_pipe")&&v.getSecure()!==undefined&&(g.chrome()||g.firefox())&&d.enabledApps[v.getClientID()])}function x(){function n(){t--;if(t===0)T(e)}var e=E;E=[];if(e.length<=w){p(e,"forEach",true,function(e){l(e.config)});return}var t=e.length+1;p(e,"forEach",true,function(e){var t={};for(var r in e.config)t[r]=e.config[r];t.url=m.resolve("www",v.getSecure())+"/plugins/plugin_pipe_shell.php";t.onload=n;l(t)});n()}function T(e){var t=n.createElement("span");u.appendHidden(t);var r={};p(e,"forEach",true,function(e){r[e.config.name]={plugin:e.tag,params:e.params}});var i=p("JSON","stringify",false,r),s=c.encode(i);p(e,"forEach",true,function(e){var t=n.getElementsByName(e.config.name)[0];t.onload=e.config.onload});var o=m.resolve("www",v.getSecure())+"/plugins/pipe.php",a=f();l({url:"about:blank",root:t,name:a,className:"fb_hidden fb_invisible",onload:function(){u.submitToTarget({url:o,target:a,params:{plugins:s.length<i.length?s:i}})}})}var b=new h,w=d.threshold,E=[];y.subscribe("parse",x);p("Object","assign",false,b,{add:function(e){var t=S();t&&E.push({config:e._config,tag:e._tag,params:e._params});return t}});s.exports=b},null);h("IframePlugin",["sdk.Auth","sdk.DOM","sdk.Event","Log","ObservableMixin","sdk.PlatformVersioning","PluginPipe","QueryString","sdk.Runtime","Type","sdk.URI","UrlMap","UserAgent_DEPRECATED","sdk.XD","sdk.createIframe","guid","resolveURI"],function(t,i,o,u,a,f,l,c,h,d,v,m,g,y,b,w,E,S,x,T,N,C,k){function A(e,t,n){if(t||t===0)e.style.width=t+"px";if(n||n===0)e.style.height=n+"px"}function O(e){return function(t){var n={width:t.width,height:t.height,pluginID:e};h.fire("xfbml.resize",n)}}function _(e,t){var n=e[t]||e[t.replace(/_/g,"-")]||e[t.replace(/_/g,"")]||e["data-"+t]||e["data-"+t.replace(/_/g,"-")]||e["data-"+t.replace(/_/g,"")]||undefined;return n}function D(e,t,n,r){p(p("Object","keys",false,e),"forEach",true,function(i){if(e[i]=="text"&&!n[i]){n[i]=t.textContent||t.innerText||"";t.setAttribute(i,n[i])}r[i]=M[e[i]](_(n,i))})}function P(e){return e||e==="0"||e===0?parseInt(e,10):undefined}function H(e){if(e)A(e,0,0)}var L={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"};var M={string:function(e){return e},bool:function(e){return e?/^(?:true|1|yes|on)$/i.test(e):undefined},url:function(e){return k(e)},url_maybe:function(e){return e?k(e):e},hostname:function(t){return t||e.location.hostname},px:function(e){return/^(\d+)(?:px)?$/.test(e)?parseInt(RegExp.$1,10):undefined},text:function(e){return e}};var B=w.extend({constructor:function(t,r,i,o){this.parent();i=i.replace(/-/g,"_");var u=_(o,"plugin_id");this.subscribe("xd.resize",O(u));this.subscribe("xd.resize.flow",O(u));this.subscribe("xd.resize.flow",p(function(e){p("Object","assign",false,this._config.root.style,{verticalAlign:"bottom",overflow:""});A(this._config.root,P(e.width),P(e.height));this.updateLift();s(this._timeoutID)},"bind",true,this));this.subscribe("xd.resize",p(function(e){p("Object","assign",false,this._config.root.style,{verticalAlign:"bottom",overflow:""});A(this._config.root,P(e.width),P(e.height));A(this._iframe,P(e.width),P(e.height));this._isIframeResized=true;this.updateLift();s(this._timeoutID)},"bind",true,this));this.subscribe("xd.resize.iframe",p(function(e){A(this._iframe,P(e.width),P(e.height));this._isIframeResized=true;this.updateLift();s(this._timeoutID)},"bind",true,this));this.subscribe("xd.sdk_event",function(e){var n=p("JSON","parse",false,e.data);n.pluginID=u;h.fire(e.event,n,t)});var a=b.getSecure()||e.location.protocol=="https:",f=S.resolve("www",a)+"/plugins/"+i+".php?",d={};D(this.getParams(),t,o,d);D(L,t,o,d);p("Object","assign",false,d,{app_id:b.getClientID(),locale:b.getLocale(),sdk:"joey",kid_directed_site:b.getKidDirectedSite(),channel:T.handler(p(function(e){return this.inform("xd."+e.type,e)},"bind",true,this),"parent.parent",true)});c.addCss(t,"fb_iframe_widget");var v=C();this.subscribe("xd.verify",function(e){T.sendToFacebook(v,{method:"xd/verify",params:p("JSON","stringify",false,e.token)})});this.subscribe("xd.refreshLoginStatus",p(l.getLoginStatus,"bind",true,l,p(this.inform,"bind",true,this,"login.status"),true));var m=n.createElement("span");p("Object","assign",false,m.style,{verticalAlign:"top",width:"0px",height:"0px",overflow:"hidden"});this._element=t;this._ns=r;this._tag=i;this._params=d;this._config={root:m,url:f+y.encode(d),name:v,width:x.mobile()?void 0:d.width||1e3,height:d.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:p(function(){return this.inform("render")},"bind",true,this),onerror:p(function(){return H(this._iframe)},"bind",true,this)}},process:function(){if(b.getIsVersioned()){m.assertVersionIsSet();var e=E(this._config.url);this._config.url=e.setPath("/"+b.getVersion()+e.getPath()).toString()}var t=p("Object","assign",false,{},this._params);delete t.channel;var n=y.encode(t);if(this._element.getAttribute("fb-iframe-plugin-query")==n){d.info("Skipping render: %s:%s %s",this._ns,this._tag,n);this.inform("render");return}this._element.setAttribute("fb-iframe-plugin-query",n);this.subscribe("render",p(function(){this._iframe.style.visibility="visible";if(!this._isIframeResized)H(this._iframe)},"bind",true,this));while(this._element.firstChild)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var i=x.mobile()?120:45;this._timeoutID=r(p(function(){H(this._iframe);d.warn("%s:%s failed to resize in %ss",this._ns,this._tag,i)},"bind",true,this),i*1e3);if(!g.add(this))this._iframe=N(this._config);if(x.mobile()){c.addCss(this._element,"fb_iframe_widget_fluid");p("Object","assign",false,this._element.style,{display:"block",width:"100%",height:"auto"});p("Object","assign",false,this._config.root.style,{width:"100%",height:"auto"});p("Object","assign",false,this._iframe.style,{width:"100%",height:"auto",position:"static"})}},updateLift:function(){var e=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;c[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},v);B.getVal=_;B.withParams=function(e){return B.extend({getParams:function(){return e}})};a.exports=B},null);h("PluginTags",[],function(e,t,n,r,i,s){var o={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",layout:"string",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},u={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};p(p("Object","keys",false,u),"forEach",true,function(e){o[e]=o[u[e]]});i.exports=o},null);h("sdk.Arbiter",[],function(e,t,n,r,i,s){var o={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};i.exports=o},null);h("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(e,t,r,i,s,o,u,a,f){var l=a.extend({constructor:function(e){this.parent();this.dom=e},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(e,t,n){var r=u.getAttr(this.dom,e);return r?n?n(r):r:t},_getBoolAttribute:function(e,t){var n=u.getBoolAttr(this.dom,e);return n===null?t:n},_getPxAttribute:function(e,t){return this.getAttribute(e,t,function(e){var n=parseInt(e,10);return isNaN(n)?t:n})},_getLengthAttribute:function(e,t){return this.getAttribute(e,t,function(e){if(e==="100%")return e;var n=parseInt(e,10);return isNaN(n)?t:n})},_getAttributeFromList:function(e,t,n){return this.getAttribute(e,t,function(e){e=e.toLowerCase();return p(n,"indexOf",true,e)>-1?e:t})},isValid:function(){for(var e=this.dom;e;e=e.parentNode)if(e==n.body)return true},clear:function(){u.html(this.dom,"")}},f);s.exports=l},null);h("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(e,t,r,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w){function T(){var e={};for(var t in x){var n=x[t];e[t]={widget:n.getUrlBits().name,params:n._getQS()}}return e}var E=h.extend({_iframeName:null,_showLoader:true,_refreshOnAuthChange:false,_allowReProcess:false,_fetchPreCachedLoader:false,_visibleAfter:"load",_widgetPipeEnabled:false,_borderReset:false,_repositioned:false,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return true},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var e=this;this._channelUrl=w.handler(function(t){e.fire("xd."+t.type,t)},"parent.parent",true)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(e,t,n){w.sendToFacebook(this.getIframeName(),{method:e,params:p("JSON","stringify",false,t||{}),behavior:n||u.BEHAVIOR_PERSISTENT})},_arbiterInform:function(e,t,n){var r='parent.frames["'+this.getIframeNode().name+'"]';w.inform(e,t,r,n)},getDefaultWebDomain:function(){return b.resolve("www")},process:function(e){if(this._done){if(!this._allowReProcess&&!e)return;this.clear()}else this._oneTimeSetup();this._done=true;this._iframeName=this.getIframeName()||this._iframeName||d();if(!this.setupAndValidate()){this.fire("render");return}if(this._showLoader)this._addLoader();l.addCss(this.dom,"fb_iframe_widget");if(this._visibleAfter!="immediate"){l.addCss(this.dom,"fb_hide_iframes")}else this.subscribe("iframe.onload",p(this.fire,"bind",true,this,"render"));var t=this.getSize()||{},r=this.getFullyQualifiedURL();if(t.width=="100%")l.addCss(this.dom,"fb_iframe_widget_fluid");this.clear();v({url:r,root:this.dom.appendChild(n.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:g.getRtl()?"fb_rtl":"fb_ltr",height:t.height,width:t.width,onload:p(this.fire,"bind",true,this,"iframe.onload")});this._resizeFlow(t);this.loaded=false;this.subscribe("iframe.onload",p(function(){this.loaded=true;if(!this._isResizeHandled)l.addCss(this.dom,"fb_hide_iframes")},"bind",true,this))},generateWidgetPipeIframeName:function(){S++;return"fb_iframe_"+S},getFullyQualifiedURL:function(){var e=this._getURL();e+="?"+m.encode(this._getQS());if(e.length>2e3){e="about:blank";var t=p(function(){this._postRequest();this.unsubscribe("iframe.onload",t)},"bind",true,this);this.subscribe("iframe.onload",t)}return e},_getWidgetPipeShell:function(){return b.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",p(this._handleResizeMsg,"bind",true,this));this.subscribe("xd.resize",p(this._bubbleResizeEvent,"bind",true,this));this.subscribe("xd.resize.iframe",p(this._resizeIframe,"bind",true,this));this.subscribe("xd.resize.flow",p(this._resizeFlow,"bind",true,this));this.subscribe("xd.resize.flow",p(this._bubbleResizeEvent,"bind",true,this));this.subscribe("xd.refreshLoginStatus",function(){a.getLoginStatus(function(){},true)});this.subscribe("xd.logout",function(){y({method:"auth.logout",display:"hidden"},function(){})});if(this._refreshOnAuthChange)this._setupAuthRefresh();if(this._visibleAfter=="load")this.subscribe("iframe.onload",p(this._makeVisible,"bind",true,this));this.subscribe("xd.verify",p(function(e){this.arbiterInform("xd/verify",e.token)},"bind",true,this));this.oneTimeSetup()},_makeVisible:function(){this._removeLoader();l.removeCss(this.dom,"fb_hide_iframes");this.fire("render")},_setupAuthRefresh:function(){a.getLoginStatus(p(function(e){var t=e.status;c.subscribe("auth.statusChange",p(function(e){if(!this.isValid())return;if(t=="unknown"||e.status=="unknown")this.process(true);t=e.status},"bind",true,this))},"bind",true,this))},_handleResizeMsg:function(e){if(!this.isValid())return;this._resizeIframe(e);this._resizeFlow(e);if(!this._borderReset){this.getIframeNode().style.border="none";this._borderReset=true}this._isResizeHandled=true;this._makeVisible()},_bubbleResizeEvent:function(e){var t={height:e.height,width:e.width,pluginID:this.getAttribute("plugin-id")};c.fire("xfbml.resize",t)},_resizeIframe:function(e){var t=this.getIframeNode();if(e.reposition==="true")this._repositionIframe(e);e.height&&(t.style.height=e.height+"px");e.width&&(t.style.width=e.width+"px");this._updateIframeZIndex()},_resizeFlow:function(e){var t=this.dom.getElementsByTagName("span")[0];e.height&&(t.style.height=e.height+"px");e.width&&(t.style.width=e.width+"px");this._updateIframeZIndex()},_updateIframeZIndex:function(){var e=this.dom.getElementsByTagName("span")[0],t=this.getIframeNode(),n=t.style.height===e.style.height&&t.style.width===e.style.width,r=n?"removeCss":"addCss";l[r](t,"fb_iframe_widget_lift")},_repositionIframe:function(e){var t=this.getIframeNode(),n=parseInt(l.getStyle(t,"width"),10),r=l.getPosition(t).x,i=l.getViewportInfo().width,s=parseInt(e.width,10);if(r+s>i&&r>s){t.style.left=n-s+"px";this.arbiterInform("xd/reposition",{type:"horizontal"});this._repositioned=true}else if(this._repositioned){t.style.left="0px";this.arbiterInform("xd/reposition",{type:"restore"});this._repositioned=false}},_addLoader:function(){if(!this._loaderDiv){l.addCss(this.dom,"fb_iframe_widget_loader");this._loaderDiv=n.createElement("div");this._loaderDiv.className="FB_Loader";this.dom.appendChild(this._loaderDiv)}},_removeLoader:function(){if(this._loaderDiv){l.removeCss(this.dom,"fb_iframe_widget_loader");if(this._loaderDiv.parentNode)this._loaderDiv.parentNode.removeChild(this._loaderDiv);this._loaderDiv=null}},_getQS:function(){return p("Object","assign",false,{api_key:g.getClientID(),locale:g.getLocale(),sdk:"joey",kid_directed_site:g.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var e=this.getDefaultWebDomain(),t="";return e+"/plugins/"+t+this.getUrlBits().name+".php"},_postRequest:function(){f.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),S=0,x={};s.exports=E},null);h("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","JSSDKConfig","UrlMap","UserAgent_DEPRECATED"],function(t,r,i,s,o,u,a,f,l,c,h,d,v){var m=f.extend({_visibleAfter:"immediate",_refreshOnAuthChange:true,setupAndValidate:function(){var t={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getLengthAttribute("width"),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};if(!t.width&&!t.permalink)t.width=550;if(h.initSitevars.enableMobileComments&&v.mobile()&&t.mobile!==false){t.mobile=true;delete t.width}if(!t.skin)t.skin=t.colorscheme;if(!t.href){t.migrated=this.getAttribute("migrated");t.xid=this.getAttribute("xid");t.title=this.getAttribute("title",n.title);t.url=this.getAttribute("url",n.URL);t.quiet=this.getAttribute("quiet");t.reverse=this.getAttribute("reverse");t.simple=this.getAttribute("simple");t.css=this.getAttribute("css");t.notify=this.getAttribute("notify");if(!t.xid){var r=p(n.URL,"indexOf",true,"#");if(r>0){t.xid=encodeURIComponent(n.URL.substring(0,r))}else t.xid=encodeURIComponent(n.URL)}if(t.migrated)t.href=d.resolve("www")+"/plugins/comments_v1.php?"+"app_id="+c.getClientID()+"&xid="+encodeURIComponent(t.xid)+"&url="+encodeURIComponent(t.url)}else{var i=this.getAttribute("fb_comment_id");if(!i){i=l.decode(n.URL.substring(p(n.URL,"indexOf",true,"?")+1)).fb_comment_id;if(i&&p(i,"indexOf",true,"#")>0)i=i.substring(0,p(i,"indexOf",true,"#"))}if(i){t.fb_comment_id=i;this.subscribe("render",p(function(){if(!e.location.hash)e.location.hash=this.getIframeNode().id},"bind",true,this))}}this._attr=t;return true},oneTimeSetup:function(){this.subscribe("xd.addComment",p(this._handleCommentMsg,"bind",true,this));this.subscribe("xd.commentCreated",p(this._handleCommentCreatedMsg,"bind",true,this));this.subscribe("xd.commentRemoved",p(this._handleCommentRemovedMsg,"bind",true,this))},getSize:function(){if(!this._attr.permalink)return{width:this._attr.mobile?"100%":this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return d.resolve(this._attr.mobile?"m":"www",true)},_handleCommentMsg:function(e){if(!this.isValid())return;a.fire("comments.add",{post:e.post,user:e.user,widget:this})},_handleCommentCreatedMsg:function(e){if(!this.isValid())return;var t={href:e.href,commentID:e.commentID,parentCommentID:e.parentCommentID,message:e.message};a.fire("comment.create",t)},_handleCommentRemovedMsg:function(e){if(!this.isValid())return;var t={href:e.href,commentID:e.commentID};a.fire("comment.remove",t)}});o.exports=m},null);h("sdk.XFBML.CommentsCount",["ApiClient","sdk.DOM","sdk.XFBML.Element","sprintf"],function(t,n,r,i,s,o,u,a,f,l){var c=f.extend({process:function(){a.addCss(this.dom,"fb_comments_count_zero");var t=this.getAttribute("href",e.location.href);u.scheduleBatchCall("/v2.1/"+encodeURIComponent(t),{fields:"share"},p(function(e){var t=e.share&&e.share.comment_count||0;a.html(this.dom,l('<span class="fb_comments_count">%s</span>',t));if(t>0)a.removeCss(this.dom,"fb_comments_count_zero");this.fire("render")},"bind",true,this))}});s.exports=c},null);h("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(t,n,r,i,s,o,u,a,f,l,c){var h={isUser:function(e){return e<22e8||e>=1e14&&e<=0x5b0a58f100ef||e>=89e12&&e<=89999999999999},upperCaseFirstChar:function(e){if(e.length>0){return e.substr(0,1).toUpperCase()+e.substr(1)}else return e},getProfileLink:function(e,t,n){if(!n&&e)n=c("%s/profile.php?id=%s",f.resolve("www"),e.uid||e.id);if(n)t=c('<a class="fb_link" href="%s">%s</a>',n,t);return t},invokeHandler:function(e,t,n){if(e)if(typeof e==="string"){u.unguard(l)(e,n)}else if(e.apply)u.unguard(e).apply(t,n||[])},fireEvent:function(e,t){var n=t._attr.href;t.fire(e,n);a.fire(e,n,t)},executeFunctionByName:function(t){var n=Array.prototype.slice.call(arguments,1),r=t.split("."),i=r.pop(),s=e;for(var o=0;o<r.length;o++)s=s[r[o]];return s[i].apply(this,n)}};s.exports=h},null);h("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(e,t,n,r,i,s,o,u){var a=u.extend({constructor:function(e,t,n,r){this.parent(e,t,n,r);var i=u.getVal(r,"on_login");if(i)this.subscribe("login.status",function(e){o.invokeHandler(i,null,[e])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string",default_audience:"string"}}});i.exports=a},null);h("escapeHTML",[],function(e,t,n,r,i,s){function a(e){return e.replace(o,function(e){return u[e]})}var o=/[&<>"'\/]/g,u={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};i.exports=a},null);h("sdk.XFBML.Name",["ApiClient","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var d={}.hasOwnProperty,v=f.extend({process:function(){p("Object","assign",false,this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",true),_subjectId:this.getAttribute("subject-id")});if(!this._uid){c.error('"uid" is a required attribute for <fb:name>');this.fire("render");return}var e=[];if(this._firstnameonly){e.push("first_name")}else if(this._lastnameonly){e.push("last_name")}else e.push("name");if(this._subjectId){e.push("gender");if(this._subjectId==h.getUserID())this._reflexive=true}a.monitor("auth.statusChange",p(function(){if(!this.isValid()){this.fire("render");return true}if(!this._uid||this._uid=="loggedinuser")this._uid=h.getUserID();if(!this._uid)return;o.scheduleBatchCall("/v1.0/"+this._uid,{fields:e.join(",")},p(function(e){if(d.call(e,"error")){c.warn("The name is not found for ID: "+this._uid);return}if(this._subjectId==this._uid){this._renderPronoun(e)}else this._renderOther(e);this.fire("render")},"bind",true,this))},"bind",true,this))},_renderPronoun:function(e){var t="",n=this._objective;if(this._subjectId){n=true;if(this._subjectId===this._uid)this._reflexive=true}if(this._uid==h.getUserID()&&this._getBoolAttribute("use-you",true)){if(this._possessive){if(this._reflexive){t="your own"}else t="your"}else if(this._reflexive){t="yourself"}else t="you"}else switch(e.gender){case"male":if(this._possessive){t=this._reflexive?"his own":"his"}else if(this._reflexive){t="himself"}else if(n){t="him"}else t="he";break;case"female":if(this._possessive){t=this._reflexive?"her own":"her"}else if(this._reflexive){t="herself"}else if(n){t="her"}else t="she";break;default:if(this._getBoolAttribute("use-they",true)){if(this._possessive){if(this._reflexive){t="their own"}else t="their"}else if(this._reflexive){t="themselves"}else if(n){t="them"}else t="they"}else if(this._possessive){if(this._reflexive){t="his/her own"}else t="his/her"}else if(this._reflexive){t="himself/herself"}else if(n){t="him/her"}else t="he/she";break}if(this._getBoolAttribute("capitalize",false))t=l.upperCaseFirstChar(t);this.dom.innerHTML=t},_renderOther:function(e){var t="",n="";if(this._uid==h.getUserID()&&this._getBoolAttribute("use-you",true)){if(this._reflexive){if(this._possessive){t="your own"}else t="yourself"}else if(this._possessive){t="your"}else t="you"}else if(e){if(null===e.first_name)e.first_name="";if(null===e.last_name)e.last_name="";if(this._firstnameonly&&e.first_name!==undefined){t=u(e.first_name)}else if(this._lastnameonly&&e.last_name!==undefined)t=u(e.last_name);if(!t)t=u(e.name);if(t!==""&&this._possessive)t+="'s"}if(!t)t=u(this.getAttribute("if-cant-see","Facebook User"));if(t){if(this._getBoolAttribute("capitalize",false))t=l.upperCaseFirstChar(t);if(e&&this._linked){n=l.getProfileLink(e,t,this.getAttribute("href",null))}else n=t}this.dom.innerHTML=n}});i.exports=v},null);h("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(t,i,s,o,u,a,f,l,c,h,d,v){var m=h.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function t(e,t){function s(){t();i=null;n=p("Date","now",false)}var n=0,i=null;return function(){if(!i){var t=p("Date","now",false);if(t-n<e){i=r(s,e-(t-n))}else s()}return true}}function i(e){if(e.match(/^\d+(?:\.\d+)?%$/)){var t=Math.min(Math.max(parseInt(e,10),0),100);e=t/100}else if(e!="manual"&&e!="onvisible")e="onvisible";return e}function s(e){return Math.max(parseInt(e,10)||30,10)}function o(e){if(e=="left"||e=="right")return e;return v.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:v.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:d(this.getAttribute("href")),side:o(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:i(this.getAttribute("trigger","")),read_time:s(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2};this._showLoader=false;this.subscribe("iframe.onload",p(function(){var e=this.dom.children[0];e.className="fbpluginrecommendationsbar"+this._attr.side},"bind",true,this));var u=p(function(){l.remove(e,"scroll",u);l.remove(n.documentElement,"click",u);l.remove(n.documentElement,"mousemove",u);r(p(this.arbiterInform,"bind",true,this,"platform/plugins/recommendations_bar/action",null,f.BEHAVIOR_STATE),this._attr.read_time*1e3);return true},"bind",true,this);l.add(e,"scroll",u);l.add(n.documentElement,"click",u);l.add(n.documentElement,"mousemove",u);if(this._attr.trigger=="manual"){var a=p(function(e){if(e==this._attr.href){c.unsubscribe("xfbml.recommendationsbar.read",a);this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,f.BEHAVIOR_STATE)}return true},"bind",true,this);c.subscribe("xfbml.recommendationsbar.read",a)}else{var h=t(500,p(function(){if(this.calculateVisibility()){l.remove(e,"scroll",h);l.remove(e,"resize",h);this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,f.BEHAVIOR_STATE)}return true},"bind",true,this));l.add(e,"scroll",h);l.add(e,"resize",h);h()}this.visible=false;var m=t(500,p(function(){if(!this.visible&&this.calculateVisibility()){this.visible=true;this.arbiterInform("platform/plugins/recommendations_bar/visible")}else if(this.visible&&!this.calculateVisibility()){this.visible=false;this.arbiterInform("platform/plugins/recommendations_bar/invisible")}return true},"bind",true,this));l.add(e,"scroll",m);l.add(e,"resize",m);m();this.focused=true;var y=p(function(){this.focused=!this.focused;return true},"bind",true,this);l.add(e,"blur",y);l.add(e,"focus",y);this.resize_running=false;this.animate=false;this.subscribe("xd.signal_animation",p(function(){this.animate=true},"bind",true,this));return true},getSize:function(){return{height:25,width:this._attr.action=="recommend"?140:96}},calculateVisibility:function(){var t=n.documentElement.clientHeight;if(!this.focused&&e.console&&e.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return false;case"onvisible":var r=this.dom.getBoundingClientRect().top;return r<=t;default:var i=e.pageYOffset||n.body.scrollTop,s=n.documentElement.scrollHeight;return(i+t)/s>=this._attr.trigger}}});u.exports=m},null);h("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(t,n,r,i,s,o,u,a,f,l,c){var h=f.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:l.getClientID(),fb_only:this._getBoolAttribute("fb-only",false),fb_register:this._getBoolAttribute("fb-register",false),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",e.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")};if(this._attr.onvalidate)this.subscribe("xd.validate",p(function(e){var t=p("JSON","parse",false,e.value),n=p(function(t){this.arbiterInform("Registration.Validation",{errors:t,id:e.id})},"bind",true,this),r=a.executeFunctionByName(this._attr.onvalidate,t,n);if(r)n(r)},"bind",true,this));this.subscribe("xd.authLogin",p(this._onAuthLogin,"bind",true,this));this.subscribe("xd.authLogout",p(this._onAuthLogout,"bind",true,this));return true},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var e;if(!this._attr.fields){e=["name"]}else try{e=p("JSON","parse",false,this._attr.fields)}catch(t){e=this._attr.fields.split(/,/)}if(this._attr.width<this._skinnyWidth){return this._skinnyBaseHeight+e.length*this._skinnyFieldHeight}else return this._baseHeight+e.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return c.resolve("www",true)},_onAuthLogin:function(){if(!u.getAuthResponse())u.getLoginStatus();a.fireEvent("auth.login",this)},_onAuthLogout:function(){if(!u.getAuthResponse())u.getLoginStatus();a.fireEvent("auth.logout",this)}});s.exports=h},null);h("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration"],function(e,t,i,s,o,u,a,f,l,c,h,d,v,m){var g={comments:t("sdk.XFBML.Comments"),comments_count:t("sdk.XFBML.CommentsCount"),login_button:t("sdk.XFBML.LoginButton"),name:t("sdk.XFBML.Name"),recommendations_bar:t("sdk.XFBML.RecommendationsBar"),registration:t("sdk.XFBML.Registration")};p(p("Object","keys",false,d),"forEach",true,function(e){m.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:h.withParams(d[e])})});p(p("Object","keys",false,g),"forEach",true,function(e){m.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:g[e]})});c.provide("XFBML",{parse:function(e){a.maybeXfbml(e,"Invalid argument");if(e&&e.nodeType===9)e=e.body;return m.parse.apply(null,arguments)}});m.subscribe("parse",p(l.fire,"bind",true,l,"xfbml.parse"));m.subscribe("render",p(l.fire,"bind",true,l,"xfbml.render"));l.subscribe("init:post",function(e){if(e.xfbml)r(v(p(f,"bind",true,null,m.parse),"entry","init:post:xfbml.parse"),0)});a.define("Xfbml",function(e){return(e.nodeType===1||e.nodeType===9)&&typeof e.nodeName==="string"});try{if(n.namespaces&&!n.namespaces.item.fb)n.namespaces.add("fb")}catch(y){}},3);h("legacy:fb.xfbml-legacy",["FB","sdk.Event"],function(t,n,r,i,s,o,u,a){u.provide("XFBML.RecommendationsBar",{markRead:function(t){a.fire("xfbml.recommendationsbar.read",t||e.location.href)}})},3)}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="http://www.facebook.com/"+"common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"1452760","message":"'+e.message+'"}}')};

