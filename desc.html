<html>
<body>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">
var hostLocal = '';
var isCurrentCacheValid = 0;
</script>

<script type="text/javascript" src="js/app_lib.js"></script>
<script type="text/javascript" src="js/app_lang.js"></script>

<style>
ul		{ list-style: none; display: block; padding-bottom: 12px; font-weight: bold;  padding-left: 3px;
background-color: #eee; font-size: 14px; font-family: Verdana; height: 22px; line-height: 32px; 
-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;  white-space: nowrap;}
li			{ display: inline-block; float: left; width: 3.5%; text-align: center; text-transform: uppercase; white-space: nowrap; }
li+li		{ border-left: 1px solid #ccc; }
li:hover	{ background-color: #007aff; color: #fff }
</style>
<ul><li>en</li><li>pt</li><li>ar</li><li>bg</li><li>cs</li><li>da</li><li>de</li><li>el</li><li>es</li><li>fi</li><li>fr</li><li>hu</li><li>it</li><li>id</li><li>ja</li><li>ko</li><li>nl</li><li>nb</li><li>pl</li><li>ro</li><li>ru</li><li>sv</li><li>tr</li><li>vi</li><li>zh</li><li>zt</li></ul>
<div id='desc'></div>
<script type="text/javascript">
function trim(str) {
    str = str.replace(/^\s+/, '');
    for (var i = str.length - 1; i >= 0; i--) {
        if (/\S/.test(str.charAt(i))) {
            str = str.substring(0, i + 1);
            break;
        }
    }
    return str;
}
//////////////////////
// FIREFOX KEYWORDS //
//////////////////////
//burn, cal, caloric, calorie, chrono, clock, counter, fat, fitness, kcal, kcals, lose, loss, metabolism, real, realtime, time, timer, tracker, weight 
//burn, cal, calculator, caloric, calorie, calorie clock, calorie counter, counter, fat, fitness, kcal, kcals, lose, loss, metabolism, real-time, time, timer, tracker, weight 



var hash = 'EN';
var lang = 'en';
if(window.location.hash) {
	hash = window.location.hash.substr(1).toUpperCase();
	lang = window.location.hash.substr(1).toLowerCase()
}
//★
$.ajax({type: 'GET', dataType: 'text', url: 'desc.txt', success: function(desc) {
desc  = desc.split('–' + hash)[1];
desc  = desc.split(hash + '–')[0];
//desc = '<strong>★ ' + LANG.THE_ONLY[lang].toUpperCase() + '</strong>' + desc;
desc  = desc.split('$KCALS$').join('<strong style="color: #e22;">ChronoBurn</strong>');
desc += '1 - ' + LANG.INTRO_SLIDE_1[lang] + '<br><br>';
desc += '2 - ' + LANG.INTRO_SLIDE_2[lang] + '<br><br>';
desc += '3 - ' + LANG.INTRO_SLIDE_3[lang] + '<br><br>';
desc += '4 - ' + LANG.INTRO_SLIDE_4[lang] + '<br><br>';
desc += '5 - ' + LANG.INTRO_SLIDE_5[lang] + '<br><br>';
desc += '6 - ' + LANG.INTRO_SLIDE_6[lang];
desc  = desc.split('XXXX').join(LANG.PROTEINS[lang].toLowerCase() + ', ' + LANG.CARBS[lang].toLowerCase() + ', ' + LANG.FATS[lang].toLowerCase());
desc  = desc.split('XXX').join(LANG.FIBER[lang].toLowerCase() + ', ' + LANG.SUGAR[lang].toLowerCase() + ', ' + LANG.SODIUM[lang].toLowerCase());
desc  = trim(desc);
desc  = desc.split('\r\n').join('<br>');
desc  = desc.split('<br><br><br>').join('<br><br>');
desc  = desc.split('<br><br><br>').join('<br><br>');
desc  = desc.split('<br><br><br>').join('<br><br>');
desc  = desc.split(':: ').join('★ ');
desc  = desc.split('::').join('★');
desc  = trim(desc);
//desc  = ('<strong>★ ' + LANG.REALTIME_CALORIE_COUNTER[lang] + ' &amp; ' + LANG.METABOLISM_SIMULATOR[lang] + '</strong ><br />').toUpperCase() + desc;
desc  = desc.split('★').join('::');
desc  = desc.trim();
desc  = trimSpace(desc);
desc  = trimSpaceAll(desc);
desc  = desc.trim();
desc  = trim(desc);
//////////////
// KEY DUMP //
//////////////
var keyList = 
'cal,kcals,' +
LANG.CALORIE[lang]         + ',' +
LANG.CALORIE_CLOCK[lang]   + ',' +
LANG.CALORIE_COUNTER[lang] + ',' +
LANG.WEIGHT_LOSS[lang]     + ',' +
LANG.LOSE_WEIGHT[lang]     + ',' +
LANG.REALTIME[lang] + ',' +
//LANG.REALTIME_CALORIES[lang] + ',' +
//LANG.REALTIME_CALORIE_COUNTER[lang] + ',' +
LANG.CALORIC_BALANCE[lang] + ',' +
LANG.FATT[lang]            + ',' +
LANG.METABOLISM[lang] + ',' +
LANG.TIME[lang]            + ',' +
LANG.EXERCISE[lang]        + ',' +
LANG.MENU_DIARY[lang]      + ',' +
LANG.NUTRIENT_TITLE[lang]  + ',' +
LANG.CALORIC_INTAKE[lang]  + ',' +
LANG.GAIN_WEIGHT[lang]     + ',' +
LANG.PROTEIN[lang]         + ',' +
LANG.FIBER[lang]           + ',' +
LANG.CARBOHYDRATE[lang]    + ',' +
LANG.MENU_DIARY[lang]      + ',' +
LANG.MENU_STATUS[lang]     + ',' +
LANG.MENU_PROFILE[lang];
//////////////
keyList = keyList.split('undefined').join('');
//keyList = keyList.split(' ').join(',');
keyList = keyList.split(',,').join(',');
//keyList = keyList.split('-').join('');
//keyList = keyList.split(',de,').join(',');
//keyList = keyList.split(',en,').join(',');
//keyList = keyList.split(',du,').join(',');
//keyList = keyList.split(',em,').join(',');
//keyList = keyList.split(',XXX,').join(',');
//keyList = keyList.split(',XXX,').join(',');
//keyList = keyList.split(',XXX,').join(',');
//keyList = keyList.split(',XXX,').join(',');
//keyList = keyList.split(',XXX,').join(',');
//keyList = keyList.split(',di,').join(',');
keyList = trim(keyList.toLowerCase());


////////////////////////////////////////////////////////
keyList  = keyList.split(',');
keyList0 = '';
  for (var i = 0; i < keyList.length; i++) {
	  keyList[i] = keyList[i].split(':').join('').split('：').join('').latinize();
        if (!keyList0.contains(keyList[i]) && keyList[i].length > 1) {
            keyList0 = keyList0 + keyList[i] + ',';
        }
  }

var keyList1 = keyList0.slice(0,100);
var keyList2 = keyList0.slice(100,-1);

desc = desc + '<div id="bottom"><br><br><span style="color: #c30; font-weight: bold;">' + keyList1 + '</span>' + keyList2 + '<br><br>';
desc = desc + '' + '' + '\
<br><strong>ChronoBurn: ' + LANG.REALTIME_CALORIE_COUNTER[lang] + '</strong>\
<br><strong>ChronoBurn -  ' + LANG.REALTIME_CALORIE_COUNTER[lang] + '</strong><br>\
<br><strong>ChronoBurn: ' + LANG.REALTIME_CALORIES[lang] + '</strong>\
<br><strong>ChronoBurn - ' + LANG.REALTIME_CALORIES[lang] + '</strong><br>\
<br><strong>' + LANG.REALTIME_CALORIE_COUNTER[lang] + ' &amp; ' + LANG.METABOLISM_SIMULATOR[lang] + '</strong><br>\
<br><strong>ChronoBurn: ' + LANG.REALTIME_CALORIE_COUNTER[lang] + ' &amp; ' + LANG.METABOLISM_SIMULATOR[lang] + '</strong><br>\
<br><strong>ChronoBurn - ' + LANG.REALTIME_CALORIE_COUNTER[lang] + ' &amp; ' + LANG.METABOLISM_SIMULATOR[lang] + '</strong><br>\
</div>';


document.getElementById('desc').innerHTML = trim(desc);

//toggle keywords
$('#bottom').css('user-select','none');
$('#bottom').css('background-color','#fff');
$('#bottom').on('dblclick',function() {
	if($('#bottom').css('user-select') == 'none') {
		$('#bottom').css('user-select','auto');
		$('#bottom').css('background-color','#eee');
	} else {
//		$('#bottom').css('user-select','none');
//		$('#bottom').css('background-color','#fff');
	}
});

}});
</script>

<script>$("ul li").click(function() { window.location.hash = $(this).html(); window.location.reload(true); }); </script>
</body>
</html>